doctype html
html.loading(lang='en', data-textdirection='ltr')
	head
		meta(http-equiv='Content-Type', content='text/html; charset=UTF-8')
		meta(http-equiv='X-UA-Compatible', content='IE=edge')
		meta(name='viewport', content='width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui')
		meta(name='description', content='Modern admin is super flexible, powerful, clean & modern responsive bootstrap 4 admin template with unlimited possibilities with bitcoin dashboard.')
		meta(name='keywords', content='admin template, modern admin template, dashboard template, flat admin template, responsive admin template, web app, crypto dashboard, bitcoin dashboard')
		meta(name='author', content='PIXINVENT')
		title
			| AMSOB Admin | Auction Catalog
		link(rel='apple-touch-icon', href='/assets/images/ico/apple-icon-120.png')
		link(rel='shortcut icon', type='image/x-icon', href='/assets/images/ico/favicon.ico')
		link(href='/assets/css/fonts.css', rel='stylesheet')
		link(href='https://maxcdn.icons8.com/fonts/line-awesome/1.1/css/line-awesome.min.css', rel='stylesheet')
		// BEGIN VENDOR CSS
		link(rel='stylesheet', type='text/css', href='/assets/css/vendors.min.css')
		link(rel='stylesheet', type='text/css', href='/assets/vendors/css/forms/icheck/icheck.css')
		link(rel='stylesheet', type='text/css', href='/assets/vendors/css/forms/icheck/custom.css')
		// END VENDOR CSS
		// BEGIN MODERN CSS
		link(rel='stylesheet', type='text/css', href='/assets/css/app.min.css')
		// END MODERN CSS
		// BEGIN Page Level CSS
		link(rel='stylesheet', type='text/css', href='/assets/css/core/menu/menu-types/vertical-menu-modern.css')
		link(rel='stylesheet', type='text/css', href='/assets/css/core/colors/palette-gradient.min.css')
		link(rel='stylesheet', type='text/css', href='/assets/vendors/css/charts/jquery-jvectormap-2.0.3.css')
		link(rel='stylesheet', type='text/css', href='/assets/vendors/css/charts/morris.css')
		link(rel='stylesheet', type='text/css', href='/assets/fonts/simple-line-icons/style.min.css')
		link(rel='stylesheet', type='text/css', href='/assets/css/core/colors/palette-gradient.min.css')
		link(rel='stylesheet', type='text/css' href='/assets/font-awesome-4.7.0/css/font-awesome.min.css')
		link(rel='stylesheet', type='text/css', href='/assets/vendors/css/tables/datatable/dataTables.bootstrap4.min.css')
		link(rel='stylesheet', type='text/css', href='/assets/vendors/css/tables/extensions/rowReorder.dataTables.min.css')
		link(rel='stylesheet', type='text/css', href='/assets/vendors/css/tables/extensions/responsive.dataTables.min.css')
		// END Page Level CSS
		// BEGIN Custom CSS
		link(rel='stylesheet', type='text/css', href='../../../assets/css/style.css')
		link(rel='stylesheet', type='text/css', href='/assets/vendors/css/formValidation.css')
		link(rel="stylesheet", href="/assets/vendors/css/extensions/sweetalert.css")
		link(rel="stylesheet" type="text/css" href="/assets/vendors/css/extensions/toastr.css")
		link(rel="stylesheet" type="text/css" href="/assets/css/plugins/extensions/toastr.min.css")
		link(rel='stylesheet', type='text/css', href='/assets/vendors/css/forms/toggle/bootstrap-switch.min.css')

		// END Custom CSS
		style.
			.has-error .control-label,
			.has-error .help-block,
			.has-error .form-control-feedback {
				color: #a94442;
			}

			/* Color of valid field */
			.has-success .control-label,
			.has-success .help-block,
			.has-success .form-control-feedback {
				color: #3c763d;
			}
			.form-group.has-feedback.has-error .form-control,
			.form-group.has-feedback.has-error .select2-selection.select2-selection--single,
			.form-group.has-feedback.has-error .select2-selection.select2-selection--single:focus{
				border: 1px solid #a94442 !important;
			}
			.form-group.has-feedback.has-success .form-control,
			.form-group.has-feedback.has-success .select2-selection.select2-selection--single,
			.form-group.has-feedback.has-success .select2-selection.select2-selection--single:focus{
				border: 1px solid #3c763d !important;
			}

			.form-control-feedback.fa.fa-check{
				z-index: 1;
				position: absolute;
				width: auto;
				bottom: 35px;
				right: 24px;
				margin-top: 0;
			}
			.form-control-feedback.fa.fa-times {
				z-index: 1;
				position: absolute;
				width: auto;
				bottom: 54px;
				right: 24px;
				margin-top: 0;
			}
			.swal-button.swal-button--No{
				background-color: #FF4961 !important;
			}
			.swal-button.swal-button--Yes{
				background-color: #28D094 !important;
			}
			i.fa.fa-check{
				width: 20px;
				height: 20px;
				right: 0px
			}
			i.fa.fa-times{
				width: 20px;
				height:20px;
				right:0px;
			}
	body.vertical-layout.vertical-menu-modern.2-columns.menu-expanded.fixed-navbar(data-open='click', data-menu='vertical-menu-modern', data-col='2-columns')
		// fixed-top
		nav.header-navbar.navbar-expand-md.navbar.navbar-with-menu.navbar-without-dd-arrow.fixed-top.navbar-shadow.navbar-semi-light.bg-gradient-x-blue
			.navbar-wrapper
				.navbar-header
					ul.nav.navbar-nav.flex-row
						li.nav-item.mobile-menu.d-md-none.mr-auto
							a.nav-link.nav-menu-main.menu-toggle.hidden-xs(href='#')
								i.ft-menu.font-large-1
						li.nav-item.mr-auto
							a.navbar-brand(href='index.html')
								img.brand-logo(alt='modern admin logo', src='/assets/images/logo/logo.png')
								h3.brand-text AMSOB
						li.nav-item.d-none.d-md-block.float-right
							a.nav-link.modern-nav-toggle.pr-0(data-toggle='collapse')
								i.toggle-icon.ft-toggle-right.font-medium-3.white(data-ticon='ft-toggle-right')
						li.nav-item.d-md-none
							a.nav-link.open-navbar-container(data-toggle='collapse', data-target='#navbar-mobile')
								i.la.la-ellipsis-v
				.navbar-container.content
					#navbar-mobile.collapse.navbar-collapse
						ul.nav.navbar-nav.mr-auto.float-left
							li.nav-item.d-none.d-md-block
								a.nav-link.nav-link-expand(href='#')
									i.ficon.ft-maximize
							li.dropdown.nav-item.mega-dropdown
								a.dropdown-toggle.nav-link(href='#', data-toggle='dropdown') Mega
								ul.mega-dropdown-menu.dropdown-menu.row
									li.col-md-2
										h6.dropdown-menu-header.text-uppercase.mb-1
											i.la.la-newspaper-o
											|  News
										#mega-menu-carousel-example
											div
												img.rounded.img-fluid.mb-1(src='/assets/images/slider/slider-2.png', alt='First slide')
												a.news-title.mb-0(href='#') Poster Frame PSD
												p.news-content
													span.font-small-2 January 26, 2018
									li.col-md-3
										h6.dropdown-menu-header.text-uppercase
											i.la.la-random
											|  Drill down menu
										ul.drilldown-menu
											li.menu-list
												ul
													li
														a.dropdown-item(href='layout-2-columns.html')
															i.ft-file
															|  Page layouts & Templates
													li
														a(href='#')
															i.ft-align-left
															|  Multi level menu
														ul
															li
																a.dropdown-item(href='#')
																	i.la.la-bookmark-o
																	|   Second level
															li
																a(href='#')
																	i.la.la-lemon-o
																	|  Second level menu
																ul
																	li
																		a.dropdown-item(href='#')
																			i.la.la-heart-o
																			|   Third level
																	li
																		a.dropdown-item(href='#')
																			i.la.la-file-o
																			|  Third level
																	li
																		a.dropdown-item(href='#')
																			i.la.la-trash-o
																			|  Third level
																	li
																		a.dropdown-item(href='#')
																			i.la.la-clock-o
																			|  Third level
															li
																a.dropdown-item(href='#')
																	i.la.la-hdd-o
																	|  Second level, third link
															li
																a.dropdown-item(href='#')
																	i.la.la-floppy-o
																	|  Second level, fourth link
													li
														a.dropdown-item(href='color-palette-primary.html')
															i.ft-camera
															|  Color palette system
													li
														a.dropdown-item(href='sk-2-columns.html')
															i.ft-edit
															|  Page starter kit
													li
														a.dropdown-item(href='changelog.html')
															i.ft-minimize-2
															|  Change log
													li
														a.dropdown-item(href='https://pixinvent.ticksy.com/')
															i.la.la-life-ring
															|  Customer support center
									li.col-md-3
										h6.dropdown-menu-header.text-uppercase
											i.la.la-list-ul
											|  Accordion
										#accordionWrap(role='tablist', aria-multiselectable='true')
											.card.border-0.box-shadow-0.collapse-icon.accordion-icon-rotate
												#headingOne.card-header.p-0.pb-2.border-0(role='tab')
													a(data-toggle='collapse', data-parent='#accordionWrap', href='#accordionOne', aria-expanded='true', aria-controls='accordionOne') Accordion Item #1
												#accordionOne.card-collapse.collapse.show(role='tabpanel', aria-labelledby='headingOne', aria-expanded='true')
													.card-content
														p.accordion-text.text-small-3
															| Caramels dessert chocolate cake pastry jujubes bonbon.
															| Jelly wafer jelly beans. Caramels chocolate cake liquorice
															| cake wafer jelly beans croissant apple pie.
												#headingTwo.card-header.p-0.pb-2.border-0(role='tab')
													a.collapsed(data-toggle='collapse', data-parent='#accordionWrap', href='#accordionTwo', aria-expanded='false', aria-controls='accordionTwo') Accordion Item #2
												#accordionTwo.card-collapse.collapse(role='tabpanel', aria-labelledby='headingTwo', aria-expanded='false')
													.card-content
														p.accordion-text
															| Sugar plum bear claw oat cake chocolate jelly tiramisu
															| dessert pie. Tiramisu macaroon muffin jelly marshmallow
															| cake. Pastry oat cake chupa chups.
												#headingThree.card-header.p-0.pb-2.border-0(role='tab')
													a.collapsed(data-toggle='collapse', data-parent='#accordionWrap', href='#accordionThree', aria-expanded='false', aria-controls='accordionThree') Accordion Item #3
												#accordionThree.card-collapse.collapse(role='tabpanel', aria-labelledby='headingThree', aria-expanded='false')
													.card-content
														p.accordion-text
															| Candy cupcake sugar plum oat cake wafer marzipan jujubes
															| lollipop macaroon. Cake dragée jujubes donut chocolate
															| bar chocolate cake cupcake chocolate topping.
									li.col-md-4
										h6.dropdown-menu-header.text-uppercase.mb-1
											i.la.la-envelope-o
											|  Contact Us
										form.form.form-horizontal
											.form-body
												.form-group.row
													label.col-sm-3.form-control-label(for='inputName1') Name
													.col-sm-9
														.position-relative.has-icon-left
															input#inputName1.form-control(type='text', placeholder='John Doe')
															.form-control-position.pl-1
																i.la.la-user
												.form-group.row
													label.col-sm-3.form-control-label(for='inputEmail1') Email
													.col-sm-9
														.position-relative.has-icon-left
															input#inputEmail1.form-control(type='email', placeholder='john@example.com')
															.form-control-position.pl-1
																i.la.la-envelope-o
												.form-group.row
													label.col-sm-3.form-control-label(for='inputMessage1') Message
													.col-sm-9
														.position-relative.has-icon-left
															textarea#inputMessage1.form-control(rows='2', placeholder='Simple Textarea')
															.form-control-position.pl-1
																i.la.la-commenting-o
												.row
													.col-sm-12.mb-1
														button.btn.btn-info.float-right(type='button')
															i.la.la-paper-plane-o
															|  Send
							li.nav-item.nav-search
								a.nav-link.nav-link-search(href='#')
									i.ficon.ft-search
								.search-input
									input.input(type='text', placeholder='Explore Modern...')
						ul.nav.navbar-nav.float-right
							li.dropdown.dropdown-user.nav-item
								a.dropdown-toggle.nav-link.dropdown-user-link(href='#', data-toggle='dropdown')
									span.mr-1
										| Hello,
										span.user-name.text-bold-700 #{session.user.strEmployeeFirstName} #{session.user.strEmployeeLastName}
									span.avatar.avatar-online
										img(src='/assets/images/portrait/small/avatar-s-19.png', alt='avatar')
										i
								.dropdown-menu.dropdown-menu-right
									a.dropdown-item(href='#')
										i.ft-user
										|  Edit Profile
									a.dropdown-item(href='#')
										i.ft-mail
										|  My Inbox
									a.dropdown-item(href='#')
										i.ft-check-square
										|  Task
									a.dropdown-item(href='#')
										i.ft-message-square
										|  Chats
									.dropdown-divider
									a.dropdown-item(href='/logout')
										i.ft-power
										|  Logout
							li.dropdown.dropdown-language.nav-item
								a#dropdown-flag.dropdown-toggle.nav-link(href='#', data-toggle='dropdown', aria-haspopup='true', aria-expanded='false')
									i.flag-icon.flag-icon-gb
									span.selected-language
								.dropdown-menu(aria-labelledby='dropdown-flag')
									a.dropdown-item(href='#')
										i.flag-icon.flag-icon-gb
										|  English
									a.dropdown-item(href='#')
										i.flag-icon.flag-icon-fr
										|  French
									a.dropdown-item(href='#')
										i.flag-icon.flag-icon-cn
										|  Chinese
									a.dropdown-item(href='#')
										i.flag-icon.flag-icon-de
										|  German
							li.dropdown.dropdown-notification.nav-item
								a.nav-link.nav-link-label(href='#', data-toggle='dropdown')
									i.ficon.ft-bell
									span.badge.badge-pill.badge-default.badge-danger.badge-default.badge-up.badge-glow#numberNotif 
								ul.dropdown-menu.dropdown-menu-media.dropdown-menu-right
									li.dropdown-menu-header
										h6.dropdown-header.m-0
											span.grey.darken-2 Notifications
									li.scrollable-container.media-list.w-100#notificationField
									li.dropdown-menu-footer
										a.dropdown-item.text-muted.text-center(href='javascript:void(0)') Read all notifications
							li.dropdown.dropdown-notification.nav-item
								a.nav-link.nav-link-label(href='#', data-toggle='dropdown')
									i.ficon.ft-mail              
								ul.dropdown-menu.dropdown-menu-media.dropdown-menu-right
									li.dropdown-menu-header
										h6.dropdown-header.m-0
											span.grey.darken-2 Messages
										span.notification-tag.badge.badge-default.badge-warning.float-right.m-0 4 New
									li.scrollable-container.media-list.w-100
										a(href='javascript:void(0)')
											.media
												.media-left
													span.avatar.avatar-sm.avatar-online.rounded-circle
														img(src='/assets/images/portrait/small/avatar-s-19.png', alt='avatar')
														i
												.media-body
													h6.media-heading Margaret Govan
													p.notification-text.font-small-3.text-muted I like your portfolio, let's start.
													small
														time.media-meta.text-muted(datetime='2015-06-11T18:29:20+08:00') Today
										a(href='javascript:void(0)')
											.media
												.media-left
													span.avatar.avatar-sm.avatar-busy.rounded-circle
														img(src='/assets/images/portrait/small/avatar-s-2.png', alt='avatar')
														i
												.media-body
													h6.media-heading Bret Lezama
													p.notification-text.font-small-3.text-muted I have seen your work, there is
													small
														time.media-meta.text-muted(datetime='2015-06-11T18:29:20+08:00') Tuesday
										a(href='javascript:void(0)')
											.media
												.media-left
													span.avatar.avatar-sm.avatar-online.rounded-circle
														img(src='/assets/images/portrait/small/avatar-s-3.png', alt='avatar')
														i
												.media-body
													h6.media-heading Carie Berra
													p.notification-text.font-small-3.text-muted Can we have call in this week ?
													small
														time.media-meta.text-muted(datetime='2015-06-11T18:29:20+08:00') Friday
										a(href='javascript:void(0)')
											.media
												.media-left
													span.avatar.avatar-sm.avatar-away.rounded-circle
														img(src='/assets/images/portrait/small/avatar-s-6.png', alt='avatar')
														i
												.media-body
													h6.media-heading Eric Alsobrook
													p.notification-text.font-small-3.text-muted We have project party this saturday.
													small
														time.media-meta.text-muted(datetime='2015-06-11T18:29:20+08:00') last month
									li.dropdown-menu-footer
										a.dropdown-item.text-muted.text-center(href='javascript:void(0)') Read all messages
		// ////////////////////////////////////////////////////////////////////////////
		.main-menu.menu-fixed.menu-light.menu-accordion.menu-shadow(data-scroll-to-active='true')
			.main-menu-content
				ul#main-menu-navigation.navigation.navigation-main(data-menu='menu-navigation')
					li.nav-item
						a(href='/')
							i.fa.fa-dashboard
							span.menu-title Dashboard
					li.nav-item
						a(href='#')
							i.fa.fa-wrench
							span.menu-title Maintenance
						ul.menu-content
							li
								a.menu-item(href='javascript:void(0)', data-i18n='nav.menu_levels.second_level') Auction Management
								ul.menu-content
									li
										a.menu-item(href='/consignor', data-i18n='nav.menu_levels.second_level_child.third_level_child.main') Consignor
									li
										a.menu-item(href='/consignment/maintenance', data-i18n='nav.menu_levels.second_level_child.third_level_child') Consignment
									li
										a.menu-item(href='/bundle', data-i18n='nav.menu_levels.second_level_child.third_level_child') Bundle
									li
										a.menu-item(href='/assets', data-i18n='nav.menu_levels.second_level_child.third_level_child') Assets
									li
										a.menu-item(href='/inventory', data-i18n='nav.menu_levels.second_level_child.third_level_child') Inventory
									li
										a.menu-item(href='/lostanddamage', data-i18n='nav.menu_levels.second_level_child.third_level_child') Lost and Damage
									li
										a.menu-item(href='/bidder', data-i18n='nav.menu_levels.second_level_child.third_level_child') Bidders
									li
										a.menu-item(href='/auction', data-i18n='nav.menu_levels.second_level_child.third_level_child') Auction Schedule
									li
										a.menu-item(href='/maintenance/auctionresults', data-i18n='nav.menu_levels.second_level_child.third_level_child') Auction Results
							li
								a.menu-item(href='javascript:void(0)', data-i18n='nav.menu_levels.second_level') User Management
								ul.menu-content
									li
										a.menu-item(href='/uom', data-i18n='nav.menu_levels.second_level_child.third_level_child') Unit of Measurement
									li
										a.menu-item(href='/idtypes', data-i18n='nav.menu_levels.second_level_child.third_level_child') ID Types
									li
										a.menu-item(href='/jobtitle', data-i18n='nav.menu_levels.second_level_child.third_level_child') Job Title
									li
										a.menu-item(href='/employee', data-i18n='nav.menu_levels.second_level_child.third_level_child') Employee
					li.nav-item
						a(href='javascript:void(0)')
							i.fa.fa-handshake-o
							span.menu-title Transaction
						ul.menu-content
							li
								a.menu-item(href='javascript:void(0)', data-i18n='nav.menu_levels.second_level') Auction Management
								ul.menu-content
									li
										a.menu-item(href='/evaluation/consignor', data-i18n='nav.menu_levels.second_level_child.third_level_child.main') Consignor Evaluation
									li
										a.menu-item(href='/consignment', data-i18n='nav.menu_levels.second_level_child.third_level_child') Asset Receiving
									li
										a.menu-item(href='/consignor/auctionresult', data-i18n='nav.menu_levels.second_level_child.third_level_child') Consignor Payment
							li
								a.menu-item(href='javascript:void(0)', data-i18n='nav.menu_levels.second_level') Online Bidding
								ul.menu-content
									li
										a.menu-item(href='/evaluation/bidder', data-i18n='nav.menu_levels.second_level_child.third_level_child.main') Bidder Evaluation
									li
										a.menu-item(href='/verify/bidder', data-i18n='nav.menu_levels.second_level_child.third_level_child') Bidder Verification
									li
										a.menu-item(href='/awards', data-i18n='nav.menu_levels.second_level_child.third_level_child') Awards
									li
										a.menu-item(href='/delivery', data-i18n='nav.menu_levels.second_level_child.third_level_child') Delivery
					li.nav-item
						a(href='/queries')
							i.fa.fa-list
							span.menu-title Queries
					li.nav-item
						a(href='/reports/sales')
							i.fa.fa-line-chart
							span.menu-title Reports
					li.nav-item
						a(href='/utilities')
							i.fa.fa-cogs
							span.menu-title Utilities
		.app-content.content
			.content-wrapper
				.content-header.row
					.content-header-left.col-md-6.col-12.mb-2.breadcrumb-new
						h3.content-header-title.mb-0.d-inline-block Auction #{auctionId}
						.row.breadcrumbs-top.d-inline-block
							.breadcrumb-wrapper.col-12
				.content-body
					section.row
						.col-12
							.card
								.card-head
									.card-header
										h4.card-title Catalog
										a.heading-elements-toggle
											i.la.la-ellipsis-h.font-medium-3
										.heading-elements
											button#catalogSubmit.btn.btn-block.btn-primary.btn-sm
												i.ft-plus.white
												| Submit Catalog
								.card-content
									.card-body
										.row
											.col-12
												center
													h5.card-title Current Items in Catalog
												table#insideAuction.datatable.table.table-white-space.table-bordered.row-grouping.display.no-wrap.icheck.table-middle
													thead
														tr
															th Consignor
															th Consignment
															th Item Description
															th Quantity
															th Price
															th Action
													tbody
													tfoot
														tr
															th Consignor
															th Consignment
															th Item Description
															th Quantity
															th Price
															th Action
										br
										.row
											.col-12
												center
													h5.card-title Available Items
												table#table.datatable.table.table-white-space.table-bordered.row-grouping.display.no-wrap.icheck.table-middle
													thead
														tr
															th Consignor
															th Consignment
															th Item Description
															th Qty
															th Price
															th Select
															th#bundleHead Bundle
													tbody
													tfoot
														tr
															th Consignor
															th Consignment
															th Item Description
															th Qty
															th Price
															th Select
															th#bundleFoot Bundle
										br
										.row
											.col-5
												form#bundleForm
													fieldset#bundleField(style='display:none')
														.form-group
															label Bundle Description
																small(style='color:red') *
															input#bundleInput.form-control(type='text' name='bundleInput' placeholder='E.g Assorted Accessories')
											.col-5
												p &nbsp;
											.col-2
												button#bundleButton.btn.btn-primary.btn-block(style='display:none') Bundle
												button#cancelButton.btn.btn-primary.btn-block(style='display:none') Cancel
												button#confirmButton.btn.btn-success.btn-block(style='display:none') Confirm
		//MODAL
		#bundleItems.modal.fade.text-left(tabindex='-1', role='dialog', aria-hidden='true')
			.modal-dialog.modal-xl(role='document')
				.modal-content
					.modal-header(style='border-bottom: none;')
						h4.modal-title.text-center 
							img(src='/assets/images/logo/logo-dark.png', alt='branding logo')
						button.close(type='button', data-dismiss='modal', aria-label='Close')
							span(aria-hidden='true') ×
					.modal-body
						.card-header.border-0(style='padding-top: 1.5rem; padding-bottom: 0rem;')
							h6.card-subtitle.line-on-side.text-muted.text-center.font-small-3.pt-2(style='margin: -38px 0 20px;')
								span Items in this Bundle
						.card-content
							.card-body#bundleItemsBody
		footer.footer.footer-static.footer-light.navbar-border.navbar-shadow
			p.clearfix.blue-grey.lighten-2.text-sm-center.mb-0.px-2
				span.float-md-left.d-block.d-md-inline-block
					| Copyright © 2018 
					a.text-bold-800.grey.darken-2(href='https://themeforest.net/user/pixinvent/portfolio?ref=pixinvent', target='_blank') PIXINVENT 
					| , All rights reserved.
				span.float-md-right.d-block.d-md-inline-blockd-none.d-lg-block
					| APPTRADE INC.
					i.ft-heart.pink
		input#hostname(type='hidden' value=hostname)
		input#port(type='hidden' value=port)
		//TOGGLE
		input#toggle(type='hidden' value='0')
		// BEGIN VENDOR JS
		script(src='/assets/vendors/js/vendors.min.js', type='text/javascript')
		// BEGIN VENDOR JS
		// BEGIN PAGE VENDOR JS
		script(src='/assets/vendors/js/charts/chart.min.js', type='text/javascript')
		script(src='/assets/vendors/js/charts/raphael-min.js', type='text/javascript')
		script(src='/assets/vendors/js/charts/morris.min.js', type='text/javascript')
		script(src='/assets/vendors/js/charts/jvector/jquery-jvectormap-2.0.3.min.js', type='text/javascript')
		script(src='/assets/vendors/js/charts/jvector/jquery-jvectormap-world-mill.js', type='text/javascript')
		script(src='/assets/data/jvector/visitor-data.js', type='text/javascript')
		// END PAGE VENDOR JS
		// BEGIN MODERN JS
		script(src='/assets/js/core/app-menu.min.js', type='text/javascript')
		script(src='/assets/js/core/app.min.js', type='text/javascript')
		script(src='/assets/js/scripts/customizer.min.js', type='text/javascript')
		// END MODERN JS
		// BEGIN PAGE LEVEL JS
		script(src='/assets/js/scripts/pages/dashboard-sales.min.js', type='text/javascript')
		script(src="/assets/vendors/js/forms/icheck/icheck.min.js" type='text/javascript')
		script(src='/assets/vendors/js/tables/jquery.dataTables.min.js', type='text/javascript')
		script(src='/assets/vendors/js/tables/datatable/dataTables.bootstrap4.min.js', type='text/javascript')
		script(src='/assets/vendors/js/tables/datatable/dataTables.responsive.min.js', type='text/javascript')
		script(src='/assets/vendors/js/tables/datatable/dataTables.rowReorder.min.js', type='text/javascript')
		script(src='/assets/vendors/js/formValidation.js', type='text/javascript')
		script(src='/assets/vendors/js/bootstrap.min.js', type='text/javascript')
		script(src='/assets/vendors/js/sweetalert.js', type='text/javascript')
		script(src="/assets/vendors/js/extensions/toastr.min.js" type="text/javascript")
		script(src='/assets/vendors/js/forms/toggle/bootstrap-switch.min.js', type='text/javascript')
		script(src='/socket.io/socket.io.js')
		script(src='/assets/vendors/js/notification.js', type='text/javascript')
		// END PAGE LEVEL JS
		script.
			$(document).ready(function (){
				var auction = !{auctionId}
				$.post(`/catalog/fetch/items/${auction}`).done(function(data){
					console.log(auction)
					var table = $('#table').DataTable({
						fnDrawCallback: function(){
							if($('#toggle').val() == 0){
								$('#bundleHead').fadeOut(1000)
								$('#bundleFoot').fadeOut(1000)
								$('.bundleCell').fadeOut(1000)
							}
							else{
								$('#bundleHead').fadeIn(1000)
								$('#bundleFoot').fadeIn(1000)
								$('.bundleCell').fadeIn(1000)
							}
							$('.checkie').iCheck({
								checkboxClass: 'icheckbox_flat-blue',
							});
							$('.js-switch').bootstrapSwitch();
							$('.js-bundle-switch').bootstrapSwitch();
						}
					});
					var insideAuction = $('#insideAuction').DataTable({
						fnDrawCallback: function(){
						}
					});
					if(data.available.length > 0){
						for(var k=0; k<data.available.length; k++){
							if(data.available[k].intConsignmentItemID){
								data.available[k].jsonOtherSpecifications = JSON.parse(data.available[k].jsonOtherSpecifications);
								if(data.available[k].jsonOtherSpecifications.hasOwnProperty('Screensize'))
									if(!data.available[k].jsonOtherSpecifications.Screensize.indexOf('Screensize'))
										data.available[k].jsonOtherSpecifications['Screensize'] = data.available[k].jsonOtherSpecifications['Screensize']+' inches';						
								if(data.available[k].jsonOtherSpecifications.hasOwnProperty('Wattage'))
									if(data.available[k].jsonOtherSpecifications.Wattage.indexOf('watts') < 0)
										data.available[k].jsonOtherSpecifications['Wattage'] = data.available[k].jsonOtherSpecifications['Wattage']+' watts';
								if(data.available[k].jsonOtherSpecifications.hasOwnProperty('Storage') && data.available[k].jsonOtherSpecifications.category == "Mobile")
									if(!data.available[k].jsonOtherSpecifications.Storage.indexOf('Storage'))
										data.available[k].jsonOtherSpecifications['Storage'] = data.available[k].jsonOtherSpecifications['Storage']+' GB';
								if(data.available[k].jsonOtherSpecifications.hasOwnProperty('Ram'))
									if(!data.available[k].jsonOtherSpecifications.Ram.indexOf('RAM'))
										data.available[k].jsonOtherSpecifications['Ram'] = 'RAM '+data.available[k].jsonOtherSpecifications['Ram']+' GB';
								var valuesOnly = Object.values(data.available[k].jsonOtherSpecifications)//array values
								var desc = data.available[k].jsonOtherSpecifications.Item+' '
								for(var l = 1; l < valuesOnly.length; l++){
									desc = desc+' '+valuesOnly[l]
								}
								if(data.available[k].booPrice == 1){
									var row = $(`<tr>
											<td>${data.available[k].strName}</td>
											<td>${data.available[k].intCIConsignment}</td>
											<td>${desc}</td>
											<td>${data.available[k].intQTY}</td>
											<td><button class='btn btn-sm btn-outline-success'>Reserved</button></td>
											<td><input class='js-switch' data-on-color='success' data-off-color='danger' data-on-text='<i class="fa fa-check"/>' data-off-text='<i class="fa fa-times"/>' type='checkbox' itemId='${data.available[k].intConsignmentItemID}' strItemId='${data.available[k].strItemID}'/></td>
											<td class='bundleCell'><input class='checkie' type='checkbox' itemId='${data.available[k].intConsignmentItemID}' strItemId='${data.available[k].strItemID}' consignmentId='${data.available[k].intCiConsignment}' reserved='${data.available[k].booPrice}'/></td>
										</tr>`
									)
								}
								else{
									var row = $(`<tr>
											<td>${data.available[k].strName}</td>
											<td>${data.available[k].intCIConsignment}</td>
											<td>${desc}</td>
											<td>${data.available[k].intQTY}</td>
											<td><button class='btn btn-sm btn-outline-info'>No Reserved</button></td>
											<td><input class='js-switch' data-on-color='success' data-off-color='danger' data-on-text='<i class="fa fa-check"/>' data-off-text='<i class="fa fa-times"/>' type='checkbox' itemId='${data.available[k].intConsignmentItemID}' strItemId='${data.available[k].strItemID}'/></td>
											<td class='bundleCell'><input class='checkie' type='checkbox' itemId='${data.available[k].intConsignmentItemID}' strItemId='${data.available[k].strItemID}' consignmentId='${data.available[k].intCIConsignment}' reserved='${data.available[k].booPrice}'/></td>
										</tr>`
									)
								}
							}
							else if(data.available[k].intBundleID){
								var row = $(`<tr>
										<td>${data.available[k].strName}</td>
										<td>${data.available[k].intBundleConsignmentID}</td>
										<td>${data.available[k].strBundleTitle}</td>
										<td><button bundleId='${data.available[k].intBundleID}' class='btn btn-sm btn-info viewButton'>View</button></td>
										<td>100</td>
										<td><input class='js-bundle-switch' data-on-color='success' data-off-color='danger' data-on-text='<i class="fa fa-check"/>' data-off-text='<i class="fa fa-times"/>' type='checkbox' bundleId='${data.available[k].intBundleID}'/></td>
										<td class='bundleCell'><span>&nbsp;</span></td>
									</tr>`
								)
							}
							table.row.add(row);
						}
					}
					if(data.catalog.length > 0){
						for(var l=0;l<data.catalog.length; l++){
							if(data.catalog[l].intConsignmentItemID){
								data.catalog[l].jsonOtherSpecifications = JSON.parse(data.catalog[l].jsonOtherSpecifications);
								if(data.catalog[l].jsonOtherSpecifications.hasOwnProperty('Screensize'))
									if(!data.catalog[l].jsonOtherSpecifications.Screensize.indexOf('Screensize'))
										data.catalog[l].jsonOtherSpecifications['Screensize'] = data.catalog[l].jsonOtherSpecifications['Screensize']+' inches';						
								if(data.catalog[l].jsonOtherSpecifications.hasOwnProperty('Wattage'))
									if(data.catalog[l].jsonOtherSpecifications.Wattage.indexOf('watts') < 0)
										data.catalog[l].jsonOtherSpecifications['Wattage'] = data.catalog[l].jsonOtherSpecifications['Wattage']+' watts';
								if(data.catalog[l].jsonOtherSpecifications.hasOwnProperty('Storage') && data.catalog[l].jsonOtherSpecifications.category == "Mobile")
									if(!data.catalog[l].jsonOtherSpecifications.Storage.indexOf('Storage'))
										data.catalog[l].jsonOtherSpecifications['Storage'] = data.catalog[l].jsonOtherSpecifications['Storage']+' GB';
								if(data.catalog[l].jsonOtherSpecifications.hasOwnProperty('Ram'))
									if(!data.catalog[l].jsonOtherSpecifications.Ram.indexOf('RAM'))
										data.catalog[l].jsonOtherSpecifications['Ram'] = 'RAM '+data.catalog[l].jsonOtherSpecifications['Ram']+' GB';
								var valuesOnly = Object.values(data.catalog[l].jsonOtherSpecifications)//array values
								var desc2 = data.catalog[l].jsonOtherSpecifications.Item+' ' 
								for(var s = 1; s < valuesOnly.length; s++){
									desc2 = desc2+' '+valuesOnly[s]
								}
								if(data.catalog[l].booPrice == 1){
									var catalogRow = $(`<tr>
											<td>${data.catalog[l].strName}</td>
											<td>${data.catalog[l].intCIConsignment}</td>
											<td>${desc2}</td>
											<td>${data.catalog[l].intQTY}</td>
											<td><button class='btn btn-sm btn-outline-success'>Reserved</button></td>
											<td>
												<button class="btn btn-danger btn-sm removeItemFromCatalog" itemId='${data.catalog[l].strItemID}' intItemId='${data.catalog[l].intConsignmentItemID}' consignmentId='${data.catalog[l].intCIConsignment}' booPrice='${data.catalog[l].booPrice}'>Remove</button>
											</td>
										</tr>`
									)
								}
								else{
									var catalogRow = $(`<tr>
											<td>${data.catalog[l].strName}</td>
											<td>${data.catalog[l].intCIConsignment}</td>
											<td>${desc2}</td>
											<td>${data.catalog[l].intQTY}</td>
											<td><button class='btn btn-sm btn-outline-info'>No Reserved</button></td>
											<td>
												<button class="btn btn-danger btn-sm removeItemFromCatalog" itemId='${data.catalog[l].strItemID}' intItemId='${data.catalog[l].intConsignmentItemID}' consignmentId='${data.catalog[l].intCIConsignment}' booPrice='${data.catalog[l].booPrice}'>Remove</button>
											</td>
										</tr>`
									)
								}
							}
							else if(data.catalog[l].intBundleID){
								var catalogRow = $(`<tr>
										<td>${data.catalog[l].strName}</td>
										<td>${data.catalog[l].intBundleConsignmentID}</td>
										<td>${data.catalog[l].strBundleTitle}</td>
										<td><button bundleId='${data.catalog[l].intBundleID}' class="btn btn-info btn-sm viewButton">View</button></td>
										<td>100</td>
										<td>
											<button class="btn btn-danger btn-sm removeItemFromCatalog" itemId='${data.catalog[l].intBundleID}'>Remove</button>
										</td>
									</tr>`
								)
							}
							insideAuction.row.add(catalogRow);
						}
					}
					table.draw()
					insideAuction.draw()
				})
				$(document).on('switchChange.bootstrapSwitch', '.js-switch', function(event, state){
					var thisSwitch = $(this)
					if(state == true){
						$.post('/catalog/validate', {itemId: thisSwitch.attr('stritemId')})
						.done(function(data){
							var send = data.confirm;
							if(data.valid== false){
								swal({
									title: 'Do you wish to continue?',
									text: data.warning,
									icon: 'info',
									buttons: {
										No: 'No',
										Yes: 'Yes',
									}
								}).then(function(value){
									if(value == 'Yes'){
										$.post('/catalog/remove/item', {obj: send})
										.done(function(){
											$(`.checkie[itemId='${thisSwitch.attr('itemId')}']`).iCheck('disable')
											$(`.checkie[itemId='${thisSwitch.attr('itemId')}']`).iCheck('uncheck')
										})
									}
									else{
										thisSwitch.trigger('click');
									}
								})
							}
							else if(data.valid == true){
								$(`.checkie[itemId='${thisSwitch.attr('itemId')}']`).iCheck('disable')
								$(`.checkie[itemId='${thisSwitch.attr('itemId')}']`).iCheck('uncheck')
							}
						})
					}
					else if(state == false){
						$.post('/catalog/revert/item', {itemId: thisSwitch.attr('stritemId')})
						.done(function(){
							$(`.checkie[itemId='${thisSwitch.attr('itemId')}']`).iCheck('enable')	
						})
					}
				});
				$(document).on('switchChange.bootstrapSwitch', '.js-bundle-switch', function(event, state){
					var thisSwitch = $(this)
					if(state == true){
						$.post('/catalog/validate', {itemId: thisSwitch.attr('bundleId')})
						.done(function(data){
							var send = data.confirm;
							if(data.valid== false){
								swal({
									title: 'Do you wish to continue?',
									text: data.warning,
									icon: 'info',
									buttons: {
										No: 'No',
										Yes: 'Yes',
									}
								}).then(function(value){
									if(value == 'Yes'){
										$.post('/catalog/remove/item', {obj: send})
									}
									else{
										thisSwitch.trigger('click');
									}
								})
							}
						})
					}
					else if(state == false){
						$.post('/catalog/revert/item', {itemId: thisSwitch.attr('bundleId')})
					}
				});
				$(document).on('click', '#catalogSubmit', function(){
					var reqSession = !{JSON.stringify(session)}
					console.log(reqSession)
					var checkedItems = [];
					var bundledCheck = [];
					var auctionId = !{auctionId};
					var table = $('#table').DataTable()
					var pageLength = table.page.info()
					console.log(pageLength)
					table.page(0).draw('page')
					for(var z=1;z<=pageLength.pages;z++){
						var switcheries = $('.js-switch');
						var bundleSwitcheries = $('.js-bundle-switch');
						console.log(switcheries)
						for(var i=0; i<switcheries.length ; i++){
							if(switcheries[i].checked == true){
								checkedItems.push(switcheries[i].getAttribute('itemId'));
							}
						}
						for(var i=0; i<bundleSwitcheries.length ; i++){
							if(bundleSwitcheries[i].checked == true){
								bundledCheck.push(bundleSwitcheries[i].getAttribute('bundleId'));
							}
						}
						table.page('next').draw('page')
					}
					$.post('/catalog/item/count', {id: auctionId})
					.done(function(data){
						var error = false;
						var selectedCount = checkedItems.length+bundledCheck.length+data.itemCount+data.bundleNowLength
						if(selectedCount >= reqSession.utilities.intMinimumItemsInCatalog){
							if(selectedCount <= reqSession.utilities.intMaximumItemsInCatalog){
								$.post(`/auction/catalog/${auctionId}`, {items: checkedItems, bundles:bundledCheck, itemCount:data.itemCount, selected:checkedItems.length+bundledCheck.length})
								.done(function(data){
									if(data.done == true){
										location.href='/auction'
									}
									else if(data.done == false){
										toastr.error(data.error,"Invalid Catalog!",{
											showMethod:"slideDown",
											hideMethod:"slideUp",
											positionClass:"toast-bottom-right",
											timeOut:5000
										})
									}
								})
							}
							else{
								var errorString = `Oh no!, You have exceeded the maximum items in a catalog which is ${reqSession.utilities.intMaximumItemsInCatalog}. Please try again.`
								error = true;
							}
						}
						else{
							var errorString = `Oh no!, You entered less than the minimum items in a catalog which is ${reqSession.utilities.intMinimumItemsInCatalog}. Please try again.`
							error = true;
						}
						if(error){
							toastr.error(errorString,"Invalid Catalog!",{
								showMethod:"slideDown",
								hideMethod:"slideUp",
								positionClass:"toast-bottom-right",
								timeOut:5000
							})
						}
					})
				});
				$(document).on('click', '#bundleButton', function(){
					$('#toggle').val(1);
					$('#bundleButton').fadeOut(1000).promise().done(function(){
						$('#cancelButton').fadeIn(1000)
						$('#confirmButton').fadeIn(1000)
					})
					$('#bundleHead').fadeIn(1000)
					$('#bundleFoot').fadeIn(1000)
					$('.bundleCell').fadeIn(1000)
					$('#bundleField').fadeIn(1000)
					$('#bundleInput').focus();
					$('#bundleForm').data('formValidation').validate().resetForm(true)
				});
				$(document).on('click', '#cancelButton', function(){
					$('#cancelButton').fadeOut(1000).promise().done(function(){
						$('#bundleButton').fadeIn(1000)
						$('#bundleInput').val('')
						$('#toggle').val(0)
					})
					$('#confirmButton').fadeOut(1000)
					$('#bundleHead').fadeOut(1000)
					$('#bundleFoot').fadeOut(1000)
					$('.bundleCell').fadeOut(1000)
					$('#bundleField').fadeOut(1000)
				});
				$(document).on('click', '#confirmButton', function(){
					var valid = $('#bundleForm').data('formValidation').validate().isValid()
					if(valid == true){
						var checked = [];
						var table = $('#table').DataTable()
						var pageLength = table.page.info()
						table.page(0).draw('page')
						for(var a=1;a<=pageLength.pages;a++){
							var checkies = $('.bundleCell input.checkie');
							for(var x=0;x<checkies.length;x++){
								if(checkies[x].checked == true){
									checked.push(checkies[x].getAttribute('itemId'))
								}
							}
							table.page('next').draw('page')
						}
						if(checked.length>1){
							swal({
								title: 'Are you sure?',
								text: 'Do you really want to bundle these items?',
								icon: 'info',
								buttons: {
									No: 'No',
									Yes: 'Yes',
								}
							}).then(function(value){
								if(value== 'Yes'){
									$.post('/bundle',{itemIds:checked, bundleDesc: $('#bundleInput').val()})
									.done(function(data){
										var table = $('#table').DataTable()
										var pageLength = table.page.info()
										table.page(0).draw('page')
										for(var b =1;b<=pageLength.pages;b++){
											for(var y=0;y<checked.length;y++){
												var consignmentIdNow = $(`.checkie[itemId='${checked[y]}']`).attr('consignmentId');
												var strIdNow = $(`.js-switch[itemId='${checked[y]}']`).attr('strItemId');
												$(`.checkie[itemId='${checked[y]}']`).iCheck('uncheck')
												$(`.checkie[itemId='${checked[y]}']`).iCheck('destroy')
												$(`.checkie[itemId='${checked[y]}']`).fadeOut(10)
												$(`.js-switch[itemId='${checked[y]}']`).bootstrapSwitch('destroy')
												var td = $(`.js-switch[itemId='${checked[y]}']`).parent('td')
												td.empty();
												td.append(`<span class="btn btn-sm btn-outline-info round" itemId='${checked[y]}' strItemId='${strIdNow}' consignmentId='${consignmentIdNow}' bundleSaveId='${data.bundleNumberNow}' style='display:none'>Bundle ${data.bundleNumberNow}</span>`)
												$(`span[itemId='${checked[y]}']`).fadeIn(1000)
											}
											table.page('next').draw('page')
										}
										$('#confirmButton').fadeOut(1000).promise().done(function(){
											$('#bundleButton').fadeIn(1000)
										})
										$('#cancelButton').fadeOut(1000)
										$('#bundleHead').fadeOut(1000)
										$('#bundleFoot').fadeOut(1000)
										$('.bundleCell').fadeOut(1000)
										$('#bundleField').fadeOut(1000)
									})
								}
							})
						}
						else{
							toastr.error("Oh no! Bundle must have two or more items inside. Please try again.","Invalid Bundle!",{
								showMethod:"slideDown",
								hideMethod:"slideUp",
								positionClass:"toast-bottom-right",
								timeOut:5000
							})
						}
					}
					else{
						$('#bundleForm').data('formValidation').validate()
					}
				})
				$('#bundleForm').formValidation({
					framework: 'bootstrap',
					icon: {
						valid: 'fa fa-check',
						invalid: 'fa fa-times',
						validating: 'fa fa-spinner'
					},
					fields:{
						bundleInput:{
							validators:{
								notEmpty:{
									message:'Please enter a description for this bundle'
								}
							}
						}
					}
				})
				$(document).on('ifChecked', '.checkie', function(){
					var checkieNow = $(this)
					var error = 0;
					var table = $('#table').DataTable()
					var pageLength = table.page.info()
					var pageNow = table.page.info().page
					if(checkieNow.attr('reserved') == 1){
						toastr.error("Oh no! You cannot bundle an asset with reserved price. Please try again.","Invalid Bundle!",{
							showMethod:"slideDown",
							hideMethod:"slideUp",
							positionClass:"toast-bottom-right",
							timeOut:5000
						})
						setTimeout(function(){checkieNow.iCheck('uncheck')}, 1);
						return;
					}
					table.page(0).draw('page')
					for(var c=1;c<=pageLength.pages;c++){
						var checkies = $('.bundleCell input.checkie');
						for(var x=0;x<checkies.length;x++){
							if(checkies[x].checked == true){
								if(checkies[x].getAttribute('consignmentId') != checkieNow.attr('consignmentId')){
									error = 1;
									setTimeout(function(){checkieNow.iCheck('uncheck')}, 1);
								}
							}
						}
						table.page('next').draw('page')
					}
					table.page(pageNow).draw('page')
					if(error == 1){
						toastr.error("Oh no! Items inside a bundle must be on one consignment only. Please try again.","Invalid Bundle!",{
							showMethod:"slideDown",
							hideMethod:"slideUp",
							positionClass:"toast-bottom-right",
							timeOut:5000
						})
					}
					else{
						$.post('/catalog/validate', {itemId: checkieNow.attr('stritemId')})
						.done(function(data){
							var send = data.confirm;
							if(data.valid== false){
								swal({
									title: 'Do you wish to continue?',
									text: data.warning,
									icon: 'info',
									buttons: {
										No: 'No',
										Yes: 'Yes',
									}
								}).then(function(value){
									if(value == 'Yes'){
										$.post('/catalog/remove/item', {obj: send})
									}
									else{
										setTimeout(function(){checkieNow.iCheck('uncheck')}, 1);
									}
								})
							}
						})
					}
				});
				$(document).on('ifUnchecked', '.checkie', function(){
					$.post('/catalog/revert/item', {itemId: $(this).attr('stritemId')})
				})
				$(document).on('mouseenter','span.btn', function(){
					var title = $(this).text();
					$(this).removeClass('btn-outline-info').addClass('btn-outline-danger')
					$(this).text(''+title+' x')
					$(this).on('mouseleave', function(){
						$(this).removeClass('btn-outline-danger').addClass('btn-outline-info')
						$(this).text(''+title)
					})
				})
				$(document).on('click', 'span.btn', function(){
					var bundleIdNow = $(this).attr('bundleSaveId')
					var spans = $(`span.btn[bundleSaveId='${bundleIdNow}']`)
					console.log(spans)
					swal({
						title: 'Are you sure?',
						text: `This will split the items in Bundle ${bundleIdNow}.`,
						icon: 'info',
						buttons: {
							No: 'No',
							Yes: 'Yes',
						}
					}).then(function(value){
						if(value == 'Yes'){
							$.post('/bundle/delete', {id:bundleIdNow})
							.done(function(){
								var table = $('#table').DataTable()
								var pageLength = table.page.info()
								table.page(0).draw('page')
								for(var d=1;d<=pageLength.pages;d++){
									for(var x=0;x<spans.length;x++){
										var itemIdNow = spans.eq(x).attr('itemId')
										var consignmentIdNow = spans.eq(x).attr('consignmentId')
										var reservedNow = spans.eq(x).attr('reserved');
										var strIdNow = spans.eq(x).attr('strItemId');
										spans.eq(x).parent('td').empty().promise().done(function(){
											$(this).append(`<input class='js-switch' data-on-color='success' data-off-color='danger' data-on-text='<i class="fa fa-check"/>' data-off-text='<i class="fa fa-times"/>' type='checkbox' itemId='${itemIdNow}' strItemId='${strIdNow}'/>`)
											$(`input.js-switch[itemId='${itemIdNow}']`).bootstrapSwitch()
										});
										spans.eq(x).parent('td').siblings('td.bundleCell').empty().promise().done(function(){
											$(this).append(`<input type="checkbox" itemId="${itemIdNow}" consignmentId="${consignmentIdNow}" reserved="${reservedNow}" class="checkie"/>`)
											$(`.checkie[itemId='${itemIdNow}']`).iCheck({
												checkboxClass: 'icheckbox_flat-blue',
											});
										})
									}
									table.page('next').draw('page')
								}
							})
						}
					});
				});
				$(document).on('click', '.viewButton', function(){
					$.post('/bundle/view', {bundleId: $(this).attr('bundleId')})
					.done(function(data){
						$('#bundleItemsBody').append(`<div class="row">
							<div class="col-md-12">
								<table id="bundleItemsTable" class="table table-white-space table-bordered row-grouping display no-wrap icheck table-middle">
								<thead>
									<tr>
										<th>Item Description</th>
										<th>Quantity</th>
										<th>Unit Of Measurement</th>
									</tr>
								</thead>
								<tbody id="bundleItemsTableBody"></tbody>
								</table>
							</div>
							</div>`
						)
						for(var k=0;k<data.items.length;k++){
							data.items[k].jsonOtherSpecifications = JSON.parse(data.items[k].jsonOtherSpecifications);
							if(data.items[k].jsonOtherSpecifications.hasOwnProperty('Screensize'))
								if(!data.items[k].jsonOtherSpecifications.Screensize.indexOf('Screensize'))
									data.items[k].jsonOtherSpecifications['Screensize'] = data.items[k].jsonOtherSpecifications['Screensize']+' inches';						
							if(data.items[k].jsonOtherSpecifications.hasOwnProperty('Wattage'))
								if(data.items[k].jsonOtherSpecifications.Wattage.indexOf('watts') < 0)
									data.items[k].jsonOtherSpecifications['Wattage'] = data.items[k].jsonOtherSpecifications['Wattage']+' watts';
							if(data.items[k].jsonOtherSpecifications.hasOwnProperty('Storage') && data.items[k].jsonOtherSpecifications.category == "Mobile")
								if(!data.items[k].jsonOtherSpecifications.Storage.indexOf('Storage'))
									data.items[k].jsonOtherSpecifications['Storage'] = data.items[k].jsonOtherSpecifications['Storage']+' GB';
							if(data.items[k].jsonOtherSpecifications.hasOwnProperty('Ram'))
								if(!data.items[k].jsonOtherSpecifications.Ram.indexOf('RAM'))
									data.items[k].jsonOtherSpecifications['Ram'] = 'RAM '+data.items[k].jsonOtherSpecifications['Ram']+' GB';
							var valuesOnly = Object.values(data.items[k].jsonOtherSpecifications)//array values
							var desc = data.items[k].jsonOtherSpecifications.Item+' '
							for(var l = 1; l < valuesOnly.length; l++){
								desc = desc+' '+valuesOnly[l]
							}
							$('#bundleItemsTableBody').append(`<tr>
									<td>${desc}</td>
									<td>${data.items[k].intQTY}</td>
									<td>${data.items[k].strUOM}</td>
								</tr>`
							)
						}
						$('#bundleItems').modal('toggle')
					})
				})
				$('#bundleItems').on('hidden.bs.modal', function(){
					$('#bundleItemsBody').empty();
				})
				$(document).on('click', '.removeItemFromCatalog', function(){
					var insideAuction = $('#insideAuction').DataTable()
					var table = $('#table').DataTable();
					var itemId = $(this).attr('itemId');
					var rowNow = $(this).parent('td').parent('tr');
					insideAuction.rows().invalidate()
					var rowNode = insideAuction.row(rowNow)
					var rowData = rowNode.data()
					if(itemId[0] == 'B'){
						var newRow = $(`<tr>
							<td>${rowData[0]}</td>
							<td>${rowData[1]}</td>
							<td>${rowData[2]}</td>
							<td>${rowData[3]}</td>
							<td>${rowData[4]}</td>
							<td><input class='js-bundle-switch' data-on-color='success' data-off-color='danger' data-on-text='<i class="fa fa-check"/>' data-off-text='<i class="fa fa-times"/>' type='checkbox' bundleId='${$(this).attr('itemId')}'/></td>
							<td class='bundleCell'><span>&nbsp;</span></td>
						</tr>`)
					}
					else{
						var newRow = $(`<tr>
							<td>${rowData[0]}</td>
							<td>${rowData[1]}</td>
							<td>${rowData[2]}</td>
							<td>${rowData[3]}</td>
							<td>${rowData[4]}</td>
							<td><input class='js-switch' data-on-color='success' data-off-color='danger' data-on-text='<i class="fa fa-check"/>' data-off-text='<i class="fa fa-times"/>' type='checkbox' itemId='${$(this).attr('intItemId')}' strItemId='${$(this).attr('itemId')}'/></td>
							<td class='bundleCell'><input class='checkie' type='checkbox' itemId='${$(this).attr('intItemId')}' strItemId='${$(this).attr('itemId')}' consignmentId='${$(this).attr('consignmentId')}' reserved='${$(this).attr('booPrice')}'/></td>
						</tr>`)
					}
					swal({
						title: 'Are you sure?',
						text: `Do you want to remove this item to this catalog?`,
						icon: 'info',
						buttons: {
							yes: 'Yes',
							no: 'No'
						}
					}).then(function(value){
						if(value == 'yes'){
							$.post('/catalog/unlist/item', {id: itemId})
							.done(function(){
								insideAuction.row(rowNow).remove()
								insideAuction.draw()
								table.row.add(newRow)
								table.draw()
								if(itemId[0] == 'B'){
									$(`.js-bundle-switch[bundleId='${itemId}']`).bootstrapSwitch();
									$('#bundleHead').fadeIn(500)
									$('#bundleFoot').fadeIn(500)
									$('.bundleCell').fadeIn(500)
									$('#bundleHead').fadeOut(500)
									$('#bundleFoot').fadeOut(500)
									$('.bundleCell').fadeOut(500)
								}
								else{
									$(`.js-switch[strItemId='${itemId}']`).bootstrapSwitch();
									$(`.checkie[strItemId='${itemId}']`).iCheck({
										checkboxClass: 'icheckbox_flat-blue',
									}).promise().done(function(){
										$('#bundleHead').fadeIn(500)
										$('#bundleFoot').fadeIn(500)
										$('.bundleCell').fadeIn(500)
										$('#bundleHead').fadeOut(500)
										$('#bundleFoot').fadeOut(500)
										$('.bundleCell').fadeOut(500)
									})
								}
							})
						}
					})
				});
			})
