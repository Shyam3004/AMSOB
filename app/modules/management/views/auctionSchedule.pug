doctype html
html.loading(lang='en', data-textdirection='ltr')
	head
		meta(http-equiv='Content-Type', content='text/html; charset=UTF-8')
		meta(http-equiv='X-UA-Compatible', content='IE=edge')
		meta(name='viewport', content='width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui')
		meta(name='description', content='Modern admin is super flexible, powerful, clean & modern responsive bootstrap 4 admin template with unlimited possibilities with bitcoin dashboard.')
		meta(name='keywords', content='admin template, modern admin template, dashboard template, flat admin template, responsive admin template, web app, crypto dashboard, bitcoin dashboard')
		meta(name='author', content='PIXINVENT')
		title
			| Dashboard sales - Modern Admin - Clean Bootstrap 4 Dashboard HTML Template + Bitcoin
			| Dashboard
		link(rel='apple-touch-icon', href='/assets/images/ico/apple-icon-120.png')
		link(rel='shortcut icon', type='image/x-icon', href='/assets/images/ico/favicon.ico')
		link(href='/assets/css/fonts.css', rel='stylesheet')
		link(href='https://maxcdn.icons8.com/fonts/line-awesome/1.1/css/line-awesome.min.css', rel='stylesheet')
		// BEGIN VENDOR CSS
		link(rel='stylesheet', type='text/css', href='/assets/css/vendors.min.css')
		link(rel='stylesheet', type='text/css', href='/assets/vendors/css/pickers/pickadate/pickadate.css')
		link(rel='stylesheet', type='text/css', href='/assets/vendors/css/ui/jquery-ui.min.css')
		link(rel='stylesheet', type='text/css', href='/assets/vendors/css/ui/jquery-ui-slider-pips.min.css')
		link(rel='stylesheet', type='text/css', href='/assets/vendors/css/extensions/datedropper.min.css')
		link(rel='stylesheet', type='text/css', href='/assets/vendors/css/extensions/timedropper.min.css')
		link(rel='stylesheet', type='text/css', href='/assets/vendors/css/dropify.css')
		link(rel="stylesheet" type="text/css" href="/assets/vendors/css/extensions/toastr.css")
		link(rel='stylesheet', type='text/css', href='/assets/css/core/colors/palette-callout.min.css')



		// END VENDOR CSS
		// BEGIN MODERN CSS
		link(rel='stylesheet', type='text/css', href='/assets/css/app.min.css')
		// END MODERN CSS
		// BEGIN Page Level CSS
		link(rel='stylesheet', type='text/css', href='/assets/css/core/menu/menu-types/vertical-menu-modern.css')
		link(rel='stylesheet', type='text/css', href='/assets/css/core/colors/palette-gradient.min.css')
		link(rel='stylesheet', type='text/css', href='/assets/vendors/css/charts/jquery-jvectormap-2.0.3.css')
		link(rel='stylesheet', type='text/css', href='/assets/vendors/css/charts/morris.css')
		link(rel="stylesheet", href="/assets/vendors/css/extensions/sweetalert.css")
		link(rel='stylesheet', type='text/css', href='/assets/fonts/simple-line-icons/style.min.css')
		link(rel='stylesheet', type='text/css', href='/assets/css/core/colors/palette-gradient.min.css')
		link(rel='stylesheet', type='text/css' href='/assets/font-awesome-4.7.0/css/font-awesome.min.css')
		link(rel="stylesheet" type="text/css" href="/assets/css/plugins/extensions/toastr.min.css")
		link(rel='stylesheet', type='text/css', href='/assets/vendors/css/tables/datatable/dataTables.bootstrap4.min.css')
		link(rel='stylesheet', type='text/css', href='/assets/vendors/css/tables/extensions/rowReorder.dataTables.min.css')
		link(rel='stylesheet', type='text/css', href='/assets/vendors/css/tables/extensions/responsive.dataTables.min.css')

		// END Page Level CSS
		// FULL CALENDAR
		link(rel='stylesheet', type='text/css', href='/assets/vendors/css/calendars/fullcalendar.min.css')
		link(rel='stylesheet', type='text/css', href='/assets/css/plugins/calendars/fullcalendar.min.css')
		link(rel='stylesheet', type='text/css', href='/assets/vendors/css/formValidation.css')
		// BEGIN Custom CSS
		link(rel='stylesheet', type='text/css', href='/assets/css/style.css')
		link(rel='stylesheet', type='text/css', href='/assets/vendors/css/forms/icheck/icheck.css')
		link(rel='stylesheet', type='text/css', href='/assets/css/plugins/ui/jqueryui.css')
		style.
			.has-error .control-label,
			.has-error .help-block,
			.has-error .form-control-feedback {
				color: #a94442;
			}

			/* Color of valid field */
			.has-success .control-label,
			.has-success .help-block,
			.has-success .form-control-feedback {
				color: #3c763d;
			}
			.form-group.has-feedback.has-error .form-control,
			.form-group.has-feedback.has-error .select2-selection.select2-selection--single,
			.form-group.has-feedback.has-error .select2-selection.select2-selection--single:focus{
				border: 1px solid #a94442 !important;
			}
			.form-group.has-feedback.has-success .form-control,
			.form-group.has-feedback.has-success .select2-selection.select2-selection--single,
			.form-group.has-feedback.has-success .select2-selection.select2-selection--single:focus{
				border: 1px solid #3c763d !important;
			}

			.form-control-feedback.fa.fa-check{
				z-index: 1;
				position: absolute;
				width: auto;
				bottom: 35px;
				right: 24px;
				margin-top: 0;
			}
			.form-control-feedback.fa.fa-times {
				z-index: 1;
				position: absolute;
				width: auto;
				bottom: 54px;
				right: 24px;
				margin-top: 0;
			}
			.swal-button.swal-button--no{
				background-color: #FF4961 !important;
			}
			.swal-button.swal-button--yes{
				background-color: #28D094 !important;
			}
		// END Custom CSS
	body.vertical-layout.vertical-menu-modern.2-columns.menu-expanded.fixed-navbar(data-open='click', data-menu='vertical-menu-modern', data-col='2-columns')
		// fixed-top
		nav.header-navbar.navbar-expand-md.navbar.navbar-with-menu.navbar-without-dd-arrow.fixed-top.navbar-shadow.navbar-semi-light.bg-gradient-x-blue
			.navbar-wrapper
				.navbar-header
					ul.nav.navbar-nav.flex-row
						li.nav-item.mobile-menu.d-md-none.mr-auto
							a.nav-link.nav-menu-main.menu-toggle.hidden-xs(href='#')
								i.ft-menu.font-large-1
						li.nav-item.mr-auto
							a.navbar-brand(href='index.html')
								img.brand-logo(alt='modern admin logo', src='/assets/images/logo/logo.png')
								h3.brand-text AMSOB
						li.nav-item.d-none.d-md-block.float-right
							a.nav-link.modern-nav-toggle.pr-0(data-toggle='collapse')
								i.toggle-icon.ft-toggle-right.font-medium-3.white(data-ticon='ft-toggle-right')
						li.nav-item.d-md-none
							a.nav-link.open-navbar-container(data-toggle='collapse', data-target='#navbar-mobile')
								i.la.la-ellipsis-v
				.navbar-container.content
					#navbar-mobile.collapse.navbar-collapse
						ul.nav.navbar-nav.mr-auto.float-left
							li.nav-item.d-none.d-md-block
								a.nav-link.nav-link-expand(href='#')
									i.ficon.ft-maximize
							
						ul.nav.navbar-nav.float-right
							li.dropdown.dropdown-user.nav-item
								a.dropdown-toggle.nav-link.dropdown-user-link(href='#', data-toggle='dropdown')
									span.mr-1
										| Hello,
										span.user-name.text-bold-700 #{session.user.strEmployeeFirstName} #{session.user.strEmployeeLastName}
									span.avatar.avatar-online
										img(src='/assets/images/portrait/small/avatar-s-19.png', alt='avatar')
										i
								.dropdown-menu.dropdown-menu-right
									a.dropdown-item(href='#')
										i.ft-user
										|  Edit Profile
									a.dropdown-item(href='#')
										i.ft-mail
										|  My Inbox
									a.dropdown-item(href='#')
										i.ft-check-square
										|  Task
									a.dropdown-item(href='#')
										i.ft-message-square
										|  Chats
									.dropdown-divider
									a.dropdown-item(href='/logout')
										i.ft-power
										|  Logout
							li.dropdown.dropdown-language.nav-item
								a#dropdown-flag.dropdown-toggle.nav-link(href='#', data-toggle='dropdown', aria-haspopup='true', aria-expanded='false')
									i.flag-icon.flag-icon-ph
									span.selected-language
								.dropdown-menu(aria-labelledby='dropdown-flag')
									a.dropdown-item(href='#')
										i.flag-icon.flag-icon-ph
										|  English
									a.dropdown-item(href='#')
										i.flag-icon.flag-icon-fr
										|  French
									a.dropdown-item(href='#')
										i.flag-icon.flag-icon-cn
										|  Chinese
									a.dropdown-item(href='#')
										i.flag-icon.flag-icon-de
										|  German
							li.dropdown.dropdown-notification.nav-item
								a.nav-link.nav-link-label(href='#', data-toggle='dropdown')
									i.ficon.ft-bell
									span.badge.badge-pill.badge-default.badge-danger.badge-default.badge-up.badge-glow#numberNotif 
								ul.dropdown-menu.dropdown-menu-media.dropdown-menu-right
									li.dropdown-menu-header
										h6.dropdown-header.m-0
											span.grey.darken-2 Notifications
									li.scrollable-container.media-list.w-100#notificationField
									li.dropdown-menu-footer
										a.dropdown-item.text-muted.text-center(href='javascript:void(0)') Read all notifications
							li.dropdown.dropdown-notification.nav-item
								a.nav-link.nav-link-label(href='#', data-toggle='dropdown')
									i.ficon.ft-mail              
								ul.dropdown-menu.dropdown-menu-media.dropdown-menu-right
									li.dropdown-menu-header
										h6.dropdown-header.m-0
											span.grey.darken-2 Messages
										span.notification-tag.badge.badge-default.badge-warning.float-right.m-0 4 New
									li.scrollable-container.media-list.w-100
										a(href='javascript:void(0)')
											.media
												.media-left
													span.avatar.avatar-sm.avatar-online.rounded-circle
														img(src='/assets/images/portrait/small/avatar-s-19.png', alt='avatar')
														i
												.media-body
													h6.media-heading Margaret Govan
													p.notification-text.font-small-3.text-muted I like your portfolio, let's start.
													small
														time.media-meta.text-muted(datetime='2015-06-11T18:29:20+08:00') Today
										a(href='javascript:void(0)')
											.media
												.media-left
													span.avatar.avatar-sm.avatar-busy.rounded-circle
														img(src='/assets/images/portrait/small/avatar-s-2.png', alt='avatar')
														i
												.media-body
													h6.media-heading Bret Lezama
													p.notification-text.font-small-3.text-muted I have seen your work, there is
													small
														time.media-meta.text-muted(datetime='2015-06-11T18:29:20+08:00') Tuesday
										a(href='javascript:void(0)')
											.media
												.media-left
													span.avatar.avatar-sm.avatar-online.rounded-circle
														img(src='/assets/images/portrait/small/avatar-s-3.png', alt='avatar')
														i
												.media-body
													h6.media-heading Carie Berra
													p.notification-text.font-small-3.text-muted Can we have call in this week ?
													small
														time.media-meta.text-muted(datetime='2015-06-11T18:29:20+08:00') Friday
										a(href='javascript:void(0)')
											.media
												.media-left
													span.avatar.avatar-sm.avatar-away.rounded-circle
														img(src='/assets/images/portrait/small/avatar-s-6.png', alt='avatar')
														i
												.media-body
													h6.media-heading Eric Alsobrook
													p.notification-text.font-small-3.text-muted We have project party this saturday.
													small
														time.media-meta.text-muted(datetime='2015-06-11T18:29:20+08:00') last month
									li.dropdown-menu-footer
										a.dropdown-item.text-muted.text-center(href='javascript:void(0)') Read all messages
		// ////////////////////////////////////////////////////////////////////////////
		.main-menu.menu-fixed.menu-light.menu-accordion.menu-shadow(data-scroll-to-active='true')
			.main-menu-content
				ul#main-menu-navigation.navigation.navigation-main(data-menu='menu-navigation')
					li.nav-item
						a(href='/')
							i.fa.fa-dashboard
							span.menu-title Dashboard
					li.nav-item
						a(href='#')
							i.fa.fa-wrench
							span.menu-title Maintenance
						ul.menu-content
							li
								a.menu-item(href='javascript:void(0)', data-i18n='nav.menu_levels.second_level') Auction Management
								ul.menu-content
									li
										a.menu-item(href='/consignor', data-i18n='nav.menu_levels.second_level_child.third_level_child.main') Consignor
									li
										a.menu-item(href='/consignment/maintenance', data-i18n='nav.menu_levels.second_level_child.third_level_child') Consignment
									li
										a.menu-item(href='/bundle', data-i18n='nav.menu_levels.second_level_child.third_level_child') Bundle
									li
										a.menu-item(href='/assets', data-i18n='nav.menu_levels.second_level_child.third_level_child') Assets
									li
										a.menu-item(href='/inventory', data-i18n='nav.menu_levels.second_level_child.third_level_child') Inventory
									li
										a.menu-item(href='/lostanddamage', data-i18n='nav.menu_levels.second_level_child.third_level_child') Lost and Damage
									li
										a.menu-item(href='/bidder', data-i18n='nav.menu_levels.second_level_child.third_level_child') Bidders
									li
										a.menu-item(href='/auction', data-i18n='nav.menu_levels.second_level_child.third_level_child') Auction Schedule
									li
										a.menu-item(href='/maintenance/auctionresults', data-i18n='nav.menu_levels.second_level_child.third_level_child') Auction Results
							li
								a.menu-item(href='javascript:void(0)', data-i18n='nav.menu_levels.second_level') User Management
								ul.menu-content
									li
										a.menu-item(href='/uom', data-i18n='nav.menu_levels.second_level_child.third_level_child') Unit of Measurement
									li
										a.menu-item(href='/idtypes', data-i18n='nav.menu_levels.second_level_child.third_level_child') ID Types
									li
										a.menu-item(href='/jobtitle', data-i18n='nav.menu_levels.second_level_child.third_level_child') Job Title
									li
										a.menu-item(href='/employee', data-i18n='nav.menu_levels.second_level_child.third_level_child') Employee
					li.nav-item
						a(href='javascript:void(0)')
							i.fa.fa-handshake-o
							span.menu-title Transaction
						ul.menu-content
							li
								a.menu-item(href='javascript:void(0)', data-i18n='nav.menu_levels.second_level') Auction Management
								ul.menu-content
									li
										a.menu-item(href='/evaluation/consignor', data-i18n='nav.menu_levels.second_level_child.third_level_child.main') Consignor Evaluation
									li
										a.menu-item(href='/consignment', data-i18n='nav.menu_levels.second_level_child.third_level_child') Asset Receiving
									li
										a.menu-item(href='/consignor/auctionresult', data-i18n='nav.menu_levels.second_level_child.third_level_child') Consignor Payment
							li
								a.menu-item(href='javascript:void(0)', data-i18n='nav.menu_levels.second_level') Online Bidding
								ul.menu-content
									li
										a.menu-item(href='/evaluation/bidder', data-i18n='nav.menu_levels.second_level_child.third_level_child.main') Bidder Evaluation
									li
										a.menu-item(href='/verify/bidder', data-i18n='nav.menu_levels.second_level_child.third_level_child') Bidder Verification
									li
										a.menu-item(href='/awards', data-i18n='nav.menu_levels.second_level_child.third_level_child') Awards
									li
										a.menu-item(href='/delivery', data-i18n='nav.menu_levels.second_level_child.third_level_child') Delivery
					li.nav-item
						a(href='/queries')
							i.fa.fa-list
							span.menu-title Queries
					li.nav-item
						a(href='/reports/sales')
							i.fa.fa-line-chart
							span.menu-title Reports
					li.nav-item
						a(href='/utilities')
							i.fa.fa-cogs
							span.menu-title Utilities
		.app-content.content
			.content-wrapper
				//- MODALS
				#bundleItems.modal.fade.text-left(tabindex='-1', role='dialog', aria-hidden='true')
					.modal-dialog.modal-xl(role='document')
						.modal-content
							.modal-header(style='border-bottom: none;')
								h4.modal-title.text-center 
									img(src='/assets/images/logo/logo-dark.png', alt='branding logo')
								button.close(type='button', data-dismiss='modal', aria-label='Close')
									span(aria-hidden='true') ×
							.modal-body
								.card-header.border-0(style='padding-top: 1.5rem; padding-bottom: 0rem;')
									h6.card-subtitle.line-on-side.text-muted.text-center.font-small-3.pt-2(style='margin: -38px 0 20px;')
										span Items in this Bundle
								.card-content
									.card-body#bundleItemsBody
				#auctionDetails.modal.fade.text-left(tabindex='-1', role='dialog', aria-hidden='true')
					.modal-dialog.modal-xl(role='document')
						.modal-content
							.modal-header(style='border-bottom: none;')
								h4.modal-title.text-center 
									img(src='/assets/images/logo/logo-dark.png', alt='branding logo')
								button.close(type='button', data-dismiss='modal', aria-label='Close')
									span(aria-hidden='true') ×
							.modal-body
								.card-header.border-0(style='padding-top: 1.5rem; padding-bottom: 0rem;')
									h6.card-subtitle.line-on-side.text-muted.text-center.font-small-3.pt-2(style='margin: -38px 0 20px;')
										span Auction Catalog
								.card-content
									.card-body#auctionDetailsBody
				#addAuction.modal.fade.text-left(tabindex='-1', role='dialog', aria-hidden='true')
					.modal-dialog.modal-xl(role='document')
						.modal-content
							.modal-header(style='border-bottom: none;')
								h4.modal-title.text-center 
									img(src='assets/images/logo/logo-dark.png', alt='branding logo')
								button#closeLogin.close(type='button', data-dismiss='modal', aria-label='Close')
									span(aria-hidden='true') ×
							.modal-body
								.card-header.border-0(style='padding-top: 1.5rem; padding-bottom: 0rem;')
									h6.card-subtitle.line-on-side.text-muted.text-center.font-small-3.pt-2(style='margin: -38px 0 20px;')
										span Create Auction
								.card-content
							form#createForm(method='POST' action='/auction/create' enctype="multipart/form-data")
									.card-body
										fieldset
											.row
												.col-md-4.col-sm-12
												.col-md-4.col-sm-12
													center
														fieldset
															input#live(type='radio', style="display:none" name='auctionType', value='1')
															span  
																label(for='live' style="display:none")  Live &nbsp &nbsp
															
															input#online.checkie(type='radio', name='auctionType' value='2' checked)
															span  
																label(for='online')  Online
										fieldset
											.row
												.col-md-6
													.form-group
														label
															| Auction Name
															span.danger *
														input.form-control.input-lg(type='text' name='auctionName' placeholder='E.g Chanel Galore')
												.col-md-6.startingTimeColumn
													.form-group
														label
															| Starting Time
															span.danger *
														input#startingTime.startingTime.form-control.input-lg(type='text', name='startingTime' placeholder='Date Dropper' value='00:00')
											.row
												.col-md-12
													.form-group
														label Auction Description
														textarea.form-control.input-lg(rows='3' name='auctionDescription' placeholder='E.g Chanel Designer Bags, Chanel Night Gowns, etc.')
											.row
												.col-md-12
													.form-group
														label Auction Banner
														input.dropify(type='file', name='auctionBanner' accept='image/*' data-height='300' data-allowed-file-extensions="jpeg jpg png" data-allowed-formats="landscape")
											.row.dayRow
												.col-md-12
													.form-group
														label(for='dayDuration') Day Duration:
														#dayDuration.ui-slider-info
														input#dayInput.dayInput(type='hidden' name='days' value='1')
											.row.durationRow
												.col-md-6
													.form-group
														label(for='hourDuration') Hour Duration:
														.text-center
															input#hourDuration.hourDuration.knob.overload-draw(type='text', value='0', name='hours', data-skin='tron', data-thickness='.2', data-displayprevious='true', data-fgcolor='#666EE8')
												.col-md-6
													.form-group
														label(for='minuteDuration') Minute Duration:
														.text-center
															input#minuteDuration.minuteDuration.knob.overload-draw(type='text', value='0',name='minutes' data-skin='tron', data-thickness='.2', data-displayprevious='true', data-fgcolor='#666EE8')
									.card-footer
										button.btn.btn-block.btn-outline-success#createSubmit(type='submit')
											i.ft-user
											| Create
				.content-header.row
					.content-header-left.col-md-6.col-12.mb-2.breadcrumb-new
						h3.content-header-title.mb-0.d-inline-block Auction Schedule
						.row.breadcrumbs-top.d-inline-block
							.breadcrumb-wrapper.col-12
				.content-body
					section.row
						.col-12
							.card
								.card-head
									.card-header
										a.heading-elements-toggle
											i.la.la-ellipsis-h.font-medium-3
										.heading-elements
											button.btn.btn-block.btn-primary.btn-sm(type='button', data-toggle='modal', data-target='#addAuction')
												i.ft-plus.white
												|  Create Auction
								.card-content
									.card-body
										.row
											.col-md-12
										.row
											.col-md-3
												.bs-callout-info.callout-border-right.callout-bordered.p-1
													h4.info Instruction:
													p(style='font-size: 10px')
														| Drag these auctions to begin scheduling.
												br
												#external-events
													h4 Catalogs
													small These are your unscheduled catalogs. Please drag it to the Calendar
													.fc-events-container
														each item in unscheduled
															- if(item.booAuctionType == 1)
																a.fc-event.auctionEvent(href='javascript:void(0);' data-color='#122d59' auctionId=`${item.intAuctionID}` jsonDuration=`${item.jsonDuration}` booAuctionType=`${item.booAuctionType}`) #{item.strAuctionName} - Auction ##{item.intAuctionID}
															- if(item.booAuctionType == 2)
																a.fc-event.auctionEvent(href='javascript:void(0);' data-color='#591212' auctionId=`${item.intAuctionID}` jsonDuration=`${item.jsonDuration}` booAuctionType=`${item.booAuctionType}`) #{item.strAuctionName} - Auction ##{item.intAuctionID}
												br
												br
												a#trash.btn.btn-block.btn-outline-danger(href='javascript:void(0)') Drag here to Delete
												br
												table.table
													thead
														tr
															th Legend
															th
													tbody
														tr
															th
																i.fa.fa-circle(style='color: #591212')
															td
																h5 Default
														tr
															th
																i.fa.fa-circle(style='color: #630860')
															td
																h5 Published
														tr
															th
																i.fa.fa-circle(style='color: #125559')
															td
																h5 Ongoing
														tr
															th
																i.fa.fa-circle(style='color: #125913')
															td
																h5 Done
												
											.col-md-9
												#calendar
		//- END MODALS
		footer.footer.footer-static.footer-light.navbar-border.navbar-shadow
			p.clearfix.blue-grey.lighten-2.text-sm-center.mb-0.px-2
				span.float-md-left.d-block.d-md-inline-block
					| Copyright © 2018 
					a.text-bold-800.grey.darken-2(href='https://themeforest.net/user/pixinvent/portfolio?ref=pixinvent', target='_blank') PIXINVENT 
					| , All rights reserved.
				span.float-md-right.d-block.d-md-inline-blockd-none.d-lg-block
					| APPTRADE INC.
					i.ft-heart.pink
		input#hostname(type='hidden' value=hostname)
		input#port(type='hidden' value=port)
		// BEGIN VENDOR JS
		script(src='/assets/vendors/js/vendors.min.js', type='text/javascript')
		// BEGIN VENDOR JS
		// BEGIN MODERN JS
		script(src='/assets/js/core/app-menu.min.js', type='text/javascript')
		script(src='/assets/js/core/app.min.js', type='text/javascript')
		script(src='/assets/js/scripts/customizer.min.js', type='text/javascript')
		script(src='/assets/vendors/js/pickers/pickadate/picker.js', type='text/javascript')
		script(src='/assets/vendors/js/pickers/pickadate/picker.date.js', type='text/javascript')
		script(src='/assets/vendors/js/pickers/pickadate/picker.time.js', type='text/javascript')
		script(src='/assets/vendors/js/pickers/pickadate/legacy.js', type='text/javascript')
		script(src='/assets/vendors/js/pickers/dateTime/moment-with-locales.min.js', type='text/javascript')
		// END MODERN JS
		// BEGIN PAGE LEVEL JS
		script(src='/assets/js/scripts/ui/jquery-ui/slider-spinner.min.js', type='text/javascript')
		script(src='/assets/vendors/js/extensions/jquery.knob.min.js', type='text/javascript')
		script(src='/assets/js/scripts/extensions/knob.min.js', type='text/javascript')
		script(src='/assets/vendors/js/extensions/datedropper.min.js', type='text/javascript')
		script(src='/assets/vendors/js/extensions/timedropper.min.js', type='text/javascript')
		script(src='/assets/js/scripts/extensions/date-time-dropper.min.js', type='text/javascript')
		script(src='/assets/vendors/js/sweetalert.js', type='text/javascript')
		script(src='/assets/vendors/js/tables/jquery.dataTables.min.js', type='text/javascript')
		script(src='/assets/vendors/js/tables/datatable/dataTables.bootstrap4.min.js', type='text/javascript')
		script(src='/assets/vendors/js/tables/datatable/dataTables.responsive.min.js', type='text/javascript')
		script(src='/assets/vendors/js/tables/datatable/dataTables.rowReorder.min.js', type='text/javascript')
		// END PAGE LEVEL JS
		// FULL CALENDAR
		script(src='/assets/vendors/js/extensions/moment.min.js', type='text/javascript')
		script(src='/assets/vendors/js/extensions/fullcalendar.min.js', type='text/javascript')
		script(src='/assets/js/core/libraries/jquery_ui/jquery-ui.min.js', type='text/javascript')
		script(src='/assets/js/scripts/extensions/fullcalendar.min.js', type='text/javascript')
		script(src='/assets/vendors/js/forms/icheck/icheck.min.js', type='text/javascript')
		// END PAGE VENDOR JS
		// BEGIN PAGE VENDOR JS
		script(src='/assets/js/core/libraries/jquery_ui/jquery-ui.min.js', type='text/javascript')
		script(src='/assets/vendors/js/ui/jquery-ui-slider-pips.min.js', type='text/javascript')
		script(src='/assets/js/core/libraries/jquery_ui/globalize/globalize.js', type='text/javascript')
		script(src='/assets/js/core/libraries/jquery_ui/globalize/cultures/globalize.culture.de-DE.js', type='text/javascript')
		script(src='/assets/js/core/libraries/jquery_ui/globalize/cultures/globalize.culture.ja-JP.js', type='text/javascript')
		script(src='/assets/vendors/js/extensions/jquery.mousewheel.min.js', type='text/javascript')
		script(src='/assets/vendors/js/dropify.js', type='text/javascript')
		script(src="/assets/vendors/js/extensions/toastr.min.js" type="text/javascript")
		// END PAGE VENDOR JS
		// BEGIN PAGE LEVEL JS
		script(src='/assets/js/scripts/pickers/dateTime/pick-a-datetime.js')
		script(src='/assets/vendors/js/formValidation.js', type='text/javascript')
		script(src='/assets/vendors/js/bootstrap.min.js', type='text/javascript')
		script(src='/socket.io/socket.io.js')
		script(src='/assets/vendors/js/notification.js', type='text/javascript')
		script.
			$(document).ready(function () {
				var reqSession = !{JSON.stringify(session)}
				$(document).on('ifChecked', '.editAuctionType', function(){
					$('#editAuctionType').val($(this).val())
				});
				$(document).on('click', '.auctionEvent', function(){
					eventDetails($(this).attr('auctionId'))
				});
				$(document).on('ifChecked', '.checkie[value="1"]', function(){
					$('.dayInput').attr('disabled', true);
					$('.hourDuration').attr('disabled', true);
					$('.minuteDuration').attr('disabled', true);
					$('.startingTime').attr('disabled', true);
					$('.dayRow').fadeOut(1000)
					$('.durationRow').fadeOut(1000)
					$('.startingTimeColumn').fadeOut(1000)
				});
				$(document).on('ifChecked', '.checkie[value="2"]', function(){
					$('.dayInput').attr('disabled', false);
					$('.hourDuration').attr('disabled', false);
					$('.minuteDuration').attr('disabled', false);
					$('.startingTime').attr('disabled', false);
					$('.dayRow').fadeIn(1000)
					$('.durationRow').fadeIn(1000)
					$('.startingTimeColumn').fadeIn(1000)
				});


				

				$(document).on('click', '#publishButton', function(){
					var minD = moment().add(reqSession.utilities.intAuctionGracePeriod, 'd').format('YYYY-MM-DD');
					var id = $(this).attr('auctionId')
					var start = $(this).attr('auctionDateStart')
					if(moment(start).isSameOrAfter(minD)){
						swal({
							title: 'Publish Auction?',
							text: `After publishing auction, you can no longer edit details of it. Do you want to continue?`,
							icon: 'info',
							buttons: {
								no: 'No',
								yes: 'Yes',
							}
						}).then(function(value){
							if(value=='yes'){
								$.post('/auction/publish', {auctionId: id})
								.done(function(data){
									if(data.done){
										toastr.success("Yay, you have successfully published an auction. Happy Bidding!","Success!",{
											showMethod:"slideDown",
											hideMethod:"slideUp",
											positionClass:"toast-bottom-right",
											timeOut:5000
										})
										$.post('/auction/refetch')
										.done(function (events){
											$('#calendar').fullCalendar('removeEvents');
											$('#calendar').fullCalendar('addEventSource', events)
											$('#calendar').fullCalendar('refetchEvents');
											$('#auctionDetails').modal('hide');
										});
									}
									else{
										toastr.error(`Oh no! This auction is not valid for publishing. Please add items in this auction`,"No Items!",{
											showMethod:"slideDown",
											hideMethod:"slideUp",
											positionClass:"toast-bottom-right",
											timeOut:5000
										})
									}
								})
							}
						});
					}
					else{
						toastr.error(`Oh no! This auction is not valid for publishing. Please adjust the date ${reqSession.utilities.intAuctionGracePeriod} day/s after today`,"Invalid Date!",{
							showMethod:"slideDown",
							hideMethod:"slideUp",
							positionClass:"toast-bottom-right",
							timeOut:5000
						})
					}
				});
				$(document).on('click', '#cancelButton', function(){
					var id = $(this).attr('auctionId')
					swal({
						title: 'Cancel Auction?',
						text: `This will remove the auction details to the Bidder's Portal. Do you want to continue?`,
						icon: 'info',
						buttons: {
							no: 'No',
							yes: 'Yes',
						}
					}).then(function(value){
						if(value=='yes'){
							$.post('/auction/cancel', {auctionId: id})
							.done(function(){
								toastr.success("Yay, you have successfully cancelled an auction","Success!",{
									showMethod:"slideDown",
									hideMethod:"slideUp",
									positionClass:"toast-bottom-right",
									timeOut:5000
								})
								$.post('/auction/refetch')
								.done(function (events){
									$('#calendar').fullCalendar('removeEvents');
									$('#calendar').fullCalendar('addEventSource', events)
									$('#calendar').fullCalendar('refetchEvents');
									$('#auctionDetails').modal('hide');
								});
							})
						}
					});
				});
				$(document).on('click', '#editSubmit', function(){
					var editBannerToggle = $('#editBannerToggle').val();
					var id = $('#editSubmit').attr('auctionId');
					$('#editForm').data('formValidation').validate();
					var currentDateStart = $('#editSubmit').attr('auctionDateStart');
					var editedAuctionName = $('#editAuctionName').val()
					var editedAuctionDescription = $('#editAuctionDescription').val()
					var editedAuctionType = $('#editAuctionType').val();
					var editedJsonDuration = {
						days: $('#editDayInput').val(),
						hours: $('#editHourDuration').val(),
						minutes: $('#editMinuteDuration').val(),
						startingTime: $('#editStartingTime').val()
					}
					var newDateStart = ''+moment(currentDateStart).format('YYYY-MM-DD')+' '+editedJsonDuration.startingTime;
					var newDateEnd = moment(newDateStart).add(editedJsonDuration.days, 'd').add(editedJsonDuration.hours, 'h').add(editedJsonDuration.minutes, 'm').format('YYYY-MM-DD HH:mm');
					console.log(newDateStart);
					console.log(newDateEnd);
					$.post('/auction/schedule/validate', {validateDateStart: newDateStart, validateDateEnd: newDateEnd, validateAuctionType: editedAuctionType, validateId:id})
					.done(function(data){
						if(data.validity=='valid'){
							if(editBannerToggle == 1){
								var formData =  new FormData();
								formData.append('strBanner', $('#editBanner')[0].files[0])
								formData.append('intAuctionID', id);
								$.ajax({
									type: 'POST',
									url: '/auction/banner',
									data: formData,
									processData: false,
									contentType: false
								})
							}
							editedJsonDuration = JSON.stringify(editedJsonDuration);
							if(currentDateStart != 'null'){
								currentDateStart = moment(currentDateStart).format('YYYY-MM-DD');
								var editedDateStart = ''+currentDateStart+' '+$('#editStartingTime').val();

								$.post('/auction/edit', {editType: 1, strAuctionName:editedAuctionName, strDescription:editedAuctionDescription, jsonDuration:editedJsonDuration, datDateStart:editedDateStart, booAuctionType:editedAuctionType, intAuctionID: id})
								.done(function(){
									toastr.success("Yay, you have successfully edited the auction schedule!","Success!",{
										showMethod:"slideDown",
										hideMethod:"slideUp",
										positionClass:"toast-bottom-right",
										timeOut:5000
									})
									$.post('/auction/refetch')
									.done(function (events){
										$('#calendar').fullCalendar('removeEvents');
										$('#calendar').fullCalendar('addEventSource', events)
										$('#calendar').fullCalendar('refetchEvents');
										$('#auctionDetails').modal('hide');
									});
								})
							}
							else{
								$.post('/auction/edit', {editType: 1, strAuctionName:editedAuctionName, strDescription:editedAuctionDescription, jsonDuration:editedJsonDuration, booAuctionType:editedAuctionType, intAuctionID: id})
								.done(function(){
									toastr.success("Yay, you have successfully edited the auction schedule!","Success!",{
										showMethod:"slideDown",
										hideMethod:"slideUp",
										positionClass:"toast-bottom-right",
										timeOut:5000
									})
									if(editedAuctionType == 1){
										$(`.auctionEvent[auctionId = '${id}']`).attr('booAuctionType', 1)
										$(`.auctionEvent[auctionId = '${id}']`).css('background-color', '#122d59')
										$(`.auctionEvent[auctionId = '${id}']`).css('border-color', '#122d59')
									}
									else if(editedAuctionType == 2){
										$(`.auctionEvent[auctionId = '${id}']`).attr('booAuctionType', 2)
										$(`.auctionEvent[auctionId= '${id}']`).css('background-color', '#591212')
										$(`.auctionEvent[auctionId= '${id}']`).css('border-color', '#591212')
									}
									$(`.auctionEvent[auctionId = '${id}']`).empty();
									$(`.auctionEvent[auctionId = '${id}']`).text(`${editedAuctionName} - Auction #${id}`)
									$('#auctionDetails').modal('hide');
								})
							}
						}
						else if(data.validity=='invalid'){
							toastr.error("Oh no! Auctions with same auction type cannot overlap. Please schedule it on another date.","Invalid Date!",{
								showMethod:"slideDown",
								hideMethod:"slideUp",
								positionClass:"toast-bottom-right",
								timeOut:5000
							})
						}
					});
				});
				var x = !{JSON.stringify(auctionSched)}
				var minDaysForAuction = reqSession.utilities.intMinimumDaysForAuction;
				var maxDaysForAuction = reqSession.utilities.intMaximumDaysForAuction;
				console.log(minDaysForAuction)
				$("#calendar").fullCalendar({
					droppable: true,
					drop: function(date){
						var thisCatalog = $(this);
						var newDate = moment(date).format('YYYY-MM-DD')
						var minDate = moment().add(reqSession.utilities.intAuctionGracePeriod, 'd').format('YYYY-MM-DD');
						var maxDate = moment().add(reqSession.utilities.intAuctionMonthLimit, 'M').format('YYYY-MM-DD');
						if(moment(newDate).isSameOrAfter(minDate)){
							if(moment(newDate).isSameOrBefore(maxDate)){
								var id = $(this).attr('auctionId');
								var jsonAttribute = JSON.parse($(this).attr('jsonDuration'));
								console.log(jsonAttribute)
								var datDateStart = ''+newDate+' '+jsonAttribute.startingTime
								var datDateEnd = moment(datDateStart).add(jsonAttribute.days, 'd').add(jsonAttribute.hours, 'h').add(jsonAttribute.minutes, 'm').format('YYYY-MM-DD HH:mm')
								$.post('/auction/schedule/validate', {validateDateStart:datDateStart, validateDateEnd: datDateEnd, validateAuctionType: $(this).attr('booAuctionType'), validateId:id})
								.done(function (data){
									if(data.validity == 'valid'){
										$.post('/auction/schedule', {id:id, datDateStart:datDateStart})
										.done(function(){
											thisCatalog.remove()
											$.post('/auction/refetch')
											.done(function (events){
												$('#calendar').fullCalendar('removeEvents');
												$('#calendar').fullCalendar('addEventSource', events)
												$('#calendar').fullCalendar('refetchEvents');
											});
											toastr.success("Yay, you successfully scheduled an auction","Success!",{
												showMethod:"slideDown",
												hideMethod:"slideUp",
												positionClass:"toast-bottom-right",
												timeOut:5000
											})
										})
									}
									else if(data.validity == 'invalid'){
										toastr.error("Oh no! Auctions with same auction type cannot overlap. Please schedule it on another date.","Invalid Date!",{
											showMethod:"slideDown",
											hideMethod:"slideUp",
											positionClass:"toast-bottom-right",
											timeOut:5000
										})
										$.post('/auction/refetch')
										.done(function (events){
											$('#calendar').fullCalendar('removeEvents');
											$('#calendar').fullCalendar('addEventSource', events)
											$('#calendar').fullCalendar('refetchEvents');
										});
									}
								})
							}
							else{
								toastr.error(`Please drop the event on a date not more than ${reqSession.utilities.intAuctionMonthLimit} month/s after today`,"Invalid Date!",{
									showMethod:"slideDown",
									hideMethod:"slideUp",
									positionClass:"toast-bottom-right",
									timeOut:5000
								})
								$.post('/auction/refetch')
								.done(function (events){
									$('#calendar').fullCalendar('removeEvents');
									$('#calendar').fullCalendar('addEventSource', events)
									$('#calendar').fullCalendar('refetchEvents');
								});
							}
						}
						else{
							toastr.error(`Please drop the event on a date at least ${reqSession.utilities.intAuctionGracePeriod} day/s after today`,"Invalid Date!",{
								showMethod:"slideDown",
								hideMethod:"slideUp",
								positionClass:"toast-bottom-right",
								timeOut:5000
							})
							$.post('/auction/refetch')
							.done(function (events){
								$('#calendar').fullCalendar('removeEvents');
								$('#calendar').fullCalendar('addEventSource', events)
								$('#calendar').fullCalendar('refetchEvents');
							});
						}
					},
					events:x,
					displayEventEnd: true,
					eventClick: function(event){
						eventDetails(event.id)
					},
					eventDrop: function(event, delta, revertFunc){
						var minDate = moment().add(reqSession.utilities.intAuctionGracePeriod, 'd').format('YYYY-MM-DD');
						var maxDate = moment().add(reqSession.utilities.intAuctionMonthLimit, 'M').format('YYYY-MM-DD');
						var eventStartTime = moment(event.start).format('HH:mm')
						var diffMonth = delta._data.months;
						var diffDay = delta._data.days;
						var eventNewStart = moment(event.start).format('YYYY-MM-DD')
						var eventNewDateTime = ''+eventNewStart +' '+eventStartTime;
						console.log(diffMonth+ ' months and '+diffDay+' days')
						console.log(eventNewStart)
						console.log(eventStartTime)

						// get jsonDuration ajax
						$.post('/eventdetails',{auctionId: event.id})
						.done(function (data){
							var jsonDuration = JSON.parse(data.jsonDuration);
							var eventNewEndDateTime = moment(eventNewDateTime).add(jsonDuration.days, 'd').add(jsonDuration.hours, 'h').add(jsonDuration.minutes, 'm').format('YYYY-MM-DD HH:mm');
							$.post('/auction/schedule/validate', {validateDateStart: eventNewDateTime, validateDateEnd:eventNewEndDateTime, validateAuctionType: data.booAuctionType, validateId: event.id})
							.done(function (data2){
								if(data2.validity == 'valid'){
									swal({
										title: 'Are you sure?',
										text: `Do you want to edit the starting date of Auction #${event.id}?`,
										icon: 'info',
										buttons: {
											no: 'No',
											yes: 'Yes',
										}
									}).then(function (value){
										if(value == 'yes'){
											if(moment(eventNewStart).isSameOrAfter(minDate)){
												if(moment(eventNewStart).isSameOrBefore(maxDate)){
													eventNewStart = ''+eventNewStart+' '+eventStartTime;

													$.post('/auction/edit', {editType: 2, datDateStart: eventNewStart, intAuctionID: event.id})
													.done(function(){
														toastr.success("Yay, auction starting date is successfully edited!","Success!",{
															showMethod:"slideDown",
															hideMethod:"slideUp",
															positionClass:"toast-bottom-right",
															timeOut:5000
														})
													})
												}
												else{
													toastr.error(`Please drop the event on a date not more than ${reqSession.utilities.intAuctionMonthLimit} month/s after today`,"Invalid Date!",{
														showMethod:"slideDown",
														hideMethod:"slideUp",
														positionClass:"toast-bottom-right",
														timeOut:5000
													})
													revertFunc()
												}
											}
											else{
												toastr.error(`Please drop the event on a date at least ${reqSession.utilities.intAuctionGracePeriod} day/s after today`,"Invalid Date!",{
													showMethod:"slideDown",
													hideMethod:"slideUp",
													positionClass:"toast-bottom-right",
													timeOut:5000
												})
												revertFunc()
											}
										}
										else{
											revertFunc()
										}
									})
								}
								else if(data2.validity == 'invalid'){
									toastr.error("Oh no! Auctions with same auction type cannot overlap. Please schedule it on another date.","Invalid Date!",{
										showMethod:"slideDown",
										hideMethod:"slideUp",
										positionClass:"toast-bottom-right",
										timeOut:5000
									})
									revertFunc();
								}
							})
						})
					},
					eventDragStop: function(event, jsEvent){
						var trash = $('#trash');
						var ofs = trash.offset();

						var x1 = ofs.left;
						var x2 = ofs.left + trash.outerWidth(true);
						var y1 = ofs.top;
						var y2 = ofs.top + trash.outerHeight(true);

						if (jsEvent.pageX >= x1 && jsEvent.pageX<= x2 && jsEvent.pageY >= y1 && jsEvent.pageY <= y2) {
							swal({
								title: 'Are you sure?',
								text: `Do you want to delete Auction #${event.id}?`,
								icon: 'info',
								buttons: {
									yes: 'Yes',
									no: 'No'
								}
							}).then(function(value){
								if(value == 'yes'){
									$.post('/auction/delete', {id: event.id})
									.done(function(data){
										if(data.done == true){
											toastr.success("Yay, you have successfully deleted an auction!","Success!",{
												showMethod:"slideDown",
												hideMethod:"slideUp",
												positionClass:"toast-bottom-right",
												timeOut:5000
											})
											$.post('/auction/refetch')
											.done(function (events){
												$('#calendar').fullCalendar('removeEvents');
												$('#calendar').fullCalendar('addEventSource', events)
												$('#calendar').fullCalendar('refetchEvents');
											});
										}
									});
								}
							})
						}
					}
					//- eventResize: function(event, delta, revertFunc, jsEvent, ui, view){
					//- 	$.post('/eventdetails', {auctionId: event.id})
					//- 	.done(function (data){
					//- 		var jsonDuration = JSON.parse(data.jsonDuration);
					//- 		var addedDuration = {
					//- 			days: delta._data.days,
					//- 			hours: delta._data.hours,
					//- 			minutes: delta._data.minutes
					//- 		}
					//- 		var newDuration = moment.duration(jsonDuration).add(addedDuration);
					//- 		var sumDuration = {
					//- 			days: newDuration._data.days,
					//- 			hours: newDuration._data.hours,
					//- 			minutes: newDuration._data.minutes,
					//- 			startingTime: jsonDuration.startingTime
					//- 		}
					//- 		console.log(jsonDuration)
					//- 		console.log(addedDuration)
					//- 		console.log(sumDuration)
					//- 		if(sumDuration.days>=1 && sumDuration.days<=3){
					//- 			$.post('/auction/edit', {editType:3 ,intAuctionID: event.id, jsonDuration:sumDuration})
					//- 			.done(function(){
					//- 				swal({
					//- 					icon: 'success',
					//- 					title: 'Success',
					//- 					text: 'Auction duration is successfully edited'
					//- 				})
					//- 			})
					//- 		}
					//- 		else{
					//- 			swal({
					//- 				icon: 'error',
					//- 				title: 'Invalid Time',
					//- 				text: 'Oh no! Minimum duration of an auction is 1 day, and maximum duration of an auction is 4 days. Please try again.'
					//- 			})
					//- 			revertFunc()
					//- 		}
					//- 	})
					//- },
					
				});

				$('.checkie').iCheck({
					checkboxClass: 'icheckbox_flat-blue',
					radioClass: 'iradio_flat-blue'
				});

				console.log("minDaysForAuction"+minDaysForAuction)
				$("#dayDuration").slider({
					range: 'min',
					min:minDaysForAuction,
					max:maxDaysForAuction,
					step:1,
					animate:"fast",
					change: function(){
						$('#dayInput').val($(this).slider('value'))
					}
				}).slider("pips",{
					rest:'label'
				})
				
				$("#startingTime").timeDropper({
					format: 'HH:mm',
					setCurrentTime: false,
				})
				$('#auctionDetails').on('hidden.bs.modal', function(){
					$('#auctionDetailsBody').empty();
				});
				$('#addAuction').on('hidden.bs.modal', function(){
					$('#live').iCheck('uncheck');
					$('#online').iCheck('check');
					$('.dayInput').attr('disabled', false);
					$('.hourDuration').attr('disabled', false);
					$('.minuteDuration').attr('disabled', false);
					$('.startingTime').attr('disabled', false);
					$('.dayRow').fadeIn(1000)
					$('.durationRow').fadeIn(1000)
					$('.startingTimeColumn').fadeIn(1000)
				})
				$('.dropify').dropify({
					allowedFiles: ['png', 'jpg', 'jpeg', 'gif', 'bmp'],
					messages: {
						'default': 'Drag and drop an image here or click',
						'replace': 'Drag and drop or click to replace',
						'remove': 'Remove',
						'error': 'Ooops, you can only upload JPG, JPEG, and PNG files.'
					},
					error: {
						'fileSize': 'The file size is too big (1M max).',
						'fileFormat': 'The file format is not allowed ({{ value }} only).'
					}
				});
				$(document).on('click', '.viewButton', function(){
					$.post('/bundle/view', {bundleId: $(this).attr('bundleId')})
					.done(function(data){
						$('#bundleItemsBody').append(`<div class="row">
							<div class="col-md-12">
								<table id="bundleItemsTable" class="table table-white-space table-bordered row-grouping display no-wrap icheck table-middle">
								<thead>
									<tr>
										<th>Item Description</th>
										<th>Quantity</th>
										<th>Unit Of Measurement</th>
									</tr>
								</thead>
								<tbody id="bundleItemsTableBody"></tbody>
								</table>
							</div>
							</div>`
						)
						for(var k=0;k<data.items.length;k++){
							data.items[k].jsonOtherSpecifications = JSON.parse(data.items[k].jsonOtherSpecifications);
							if(data.items[k].jsonOtherSpecifications.hasOwnProperty('Screensize'))
								if(!data.items[k].jsonOtherSpecifications.Screensize.indexOf('Screensize'))
									data.items[k].jsonOtherSpecifications['Screensize'] = data.items[k].jsonOtherSpecifications['Screensize']+' inches';						
							if(data.items[k].jsonOtherSpecifications.hasOwnProperty('Wattage'))
								if(data.items[k].jsonOtherSpecifications.Wattage.indexOf('watts') < 0)
									data.items[k].jsonOtherSpecifications['Wattage'] = data.items[k].jsonOtherSpecifications['Wattage']+' watts';
							if(data.items[k].jsonOtherSpecifications.hasOwnProperty('Storage') && data.items[k].jsonOtherSpecifications.category == "Mobile")
								if(!data.items[k].jsonOtherSpecifications.Storage.indexOf('Storage'))
									data.items[k].jsonOtherSpecifications['Storage'] = data.items[k].jsonOtherSpecifications['Storage']+' GB';
							if(data.items[k].jsonOtherSpecifications.hasOwnProperty('Ram'))
								if(!data.items[k].jsonOtherSpecifications.Ram.indexOf('RAM'))
									data.items[k].jsonOtherSpecifications['Ram'] = 'RAM '+data.items[k].jsonOtherSpecifications['Ram']+' GB';
							var valuesOnly = Object.values(data.items[k].jsonOtherSpecifications)//array values
							var desc = data.items[k].jsonOtherSpecifications.Item+' ' 
							for(var l = 1; l < valuesOnly.length; l++){
								desc = desc+' '+valuesOnly[l]
							}
							$('#bundleItemsTableBody').append(`<tr>
									<td>${desc}</td>
									<td>${data.items[k].intQTY}</td>
									<td>${data.items[k].strUOM}</td>
								</tr>`
							)
						}
						$('#auctionDetails').modal('toggle')
						$('#bundleItems').modal('toggle')
					})
				})
				$('#bundleItems').on('hidden.bs.modal', function(){
					$('#bundleItemsBody').empty();
				})
			});
		script.
			function importModules(daySliderValue,auctionId){
				var reqSession = !{JSON.stringify(session)}
				$('.checkie').iCheck({
					checkboxClass: 'icheckbox_flat-blue',
					radioClass: 'iradio_flat-blue'
				});
				$("#editDayDuration").slider({
					range: 'min',
					min:reqSession.utilities.intMinimumDaysForAuction,
					max:reqSession.utilities.intMaximumDaysForAuction,
					step:1,
					animate:"fast",
					change: function(){
						$('#editDayInput').val($(this).slider('value'))
					},
					value: daySliderValue
				}).slider("pips",{
					rest:'label'
				})
				$("#editStartingTime").timeDropper({
					format: 'HH:mm',
					setCurrentTime: false
				})
				$('#editHourDuration').knob({
					min: 0,
					max: 23,
				})
				$('#editMinuteDuration').knob({
					min: 0,
					max: 59,
				})
				$('#editBanner').dropify({
					allowedFiles: ['png', 'jpg', 'jpeg', 'gif', 'bmp'],
					messages: {
						'default': 'Drag and drop an image here or click',
						'replace': 'Drag and drop or click to replace',
						'remove': 'Remove',
						'error': 'Ooops, you can only upload JPG, JPEG, and PNG files.'
					},
					error: {
						'fileSize': 'The file size is too big (1M max).',
						'fileFormat': 'The file format is not allowed ({{ value }} only).'
					}
				})
				$('#editBanner').on('change', function (){
					$('#editBannerToggle').val(1);
				})
				$('#editBanner').on('dropify.afterClear', function(){
					$('#editBannerToggle').val(1);
				})
				$('#editForm').formValidation({
					framework: 'bootstrap',
					icon: {
						valid: 'fa fa-check',
						invalid: 'fa fa-times',
						validating: 'fa fa-spinner'
					},
					fields: {
						auctionName: {
							validators: {
								notEmpty: {
									message: 'Enter an auction name'
								}
							}
						}
					}
				})
				$('#itemTable').dataTable({"oLanguage": { "sEmptyTable": `<h3>Click <a href='/auction/catalog/${auctionId}' class="btn btn-info btn-sm"><i class="ft-plus white"></i> Add Items</a> to begin adding items to this auction.<h3>` }})
				getCatalog(auctionId);
			}
			function getCatalog(auctionId){
				$.post('/catalog', {id:auctionId})
				.done(function(data){
					var itemTable = $('#itemTable').DataTable()

					for(var x = 0; x < data.items.length ; x++){
						if(data.items[x].intConsignmentItemID){
							data.items[x].jsonOtherSpecifications = JSON.parse(data.items[x].jsonOtherSpecifications);
							if(data.items[x].jsonOtherSpecifications.hasOwnProperty('Screensize'))
								if(!data.items[x].jsonOtherSpecifications.Screensize.indexOf('Screensize'))
									data.items[x].jsonOtherSpecifications['Screensize'] = data.items[x].jsonOtherSpecifications['Screensize']+' inches';						
							if(data.items[x].jsonOtherSpecifications.hasOwnProperty('Wattage'))
								if(data.items[x].jsonOtherSpecifications.Wattage.indexOf('watts') < 0)
									data.items[x].jsonOtherSpecifications['Wattage'] = data.items[x].jsonOtherSpecifications['Wattage']+' watts';
							if(data.items[x].jsonOtherSpecifications.hasOwnProperty('Storage') && data.items[x].jsonOtherSpecifications.category == "Mobile")
								if(!data.items[x].jsonOtherSpecifications.Storage.indexOf('Storage'))
									data.items[x].jsonOtherSpecifications['Storage'] = data.items[x].jsonOtherSpecifications['Storage']+' GB';
							if(data.items[x].jsonOtherSpecifications.hasOwnProperty('Ram'))
								if(!data.items[x].jsonOtherSpecifications.Ram.indexOf('RAM'))
									data.items[x].jsonOtherSpecifications['Ram'] = 'RAM '+data.items[x].jsonOtherSpecifications['Ram']+' GB';
							var valuesOnly = Object.values(data.items[x].jsonOtherSpecifications)//array values
							console.log(valuesOnly)
							var desc = data.items[x].jsonOtherSpecifications.Item+' ' 
							for(var l = 1; l < valuesOnly.length; l++){
								desc = desc+' '+valuesOnly[l]
							}
							if(data.items[x].booPrice == 1){
								var row = $(`<tr>
									<td>${data.items[x].strName}</td>
									<td>${desc}</td>
									<td>${data.items[x].intQTY}</td>
									<td>
										<button class="btn btn-sm btn-outline-success">Reserved Price</button>
									</td>
									</tr>`
								);
							}
							else{
								var row = $(`<tr>
									<td>${data.items[x].strName}</td>
									<td>${desc}</td>
									<td>${data.items[x].intQTY}</td>
									<td>
										<button class="btn btn-sm btn-outline-info">No Reserved Price</button>
									</td>
									</tr>`
								);
							}
						}
						else{
							var row = $(`<tr>
								<td>${data.items[x].strName}</td>
								<td>${data.items[x].strBundleTitle}</td>
								<td>
									<button class="btn btn-info btn-sm viewButton" bundleId='${data.items[x].intBundleID}'>View</button>
								</td>
								<td>100</td>
								</tr>`
							);
						}
						itemTable.row.add(row);
					}
					itemTable.draw()
				});
			}
			function eventDetails(eventId){
				$.post('/eventdetails', {auctionId: eventId})
				.done(function (data){
					var jsonAttribute = JSON.parse(data.jsonDuration);
					$('#auctionDetailsBody').append(`<center>
						<h3>Auction # ${data.intAuctionID}</h3>
						</center>
						<table id="itemTable" class="table table-white-space table-bordered row-grouping display no-wrap icheck table-middle">
							<thead>
								<tr>
									<th>Consignor Name</th>
									<th>Item Description</th>
									<th>Quantity</th>
									<th>Price</th>
								</tr>
							</thead>
							<tfoot>
								<tr>
									<th>Consignor Name</th>
									<th>Item Description</th>
									<th>Quantity</th>
									<th>Price</th>
								</tr>
							</tfoot>
							<tbody></tbody>
						</table>
						<br/>
						<br/>
						<div class="row">
							<div class='col-md-12'>
								<a id='editCatalog' href='/auction/catalog/${eventId}' class='btn btn-info' style='float:right;'>Edit Catalog</a>
							</div>
						</div>
						<br/>
						<br/>
						<br/>
						<h6 style="margin: -38px 0 20px;" class="card-subtitle line-on-side text-muted text-center font-small-3 pt-2"><span>Auction Details</span></h6>
						<fieldset>
							<div class="row">
								<div class="col-md-4 col-sm-12"></div>
								<div class="col-md-4 col-sm-12">
								<center>
									<fieldset id='fieldAuctionType'>
									</fieldset>
								</center>
								</div>
							</div>
							<form id='editForm'>
							<fieldset>
								<div class="row">
									<div class="col-md-6">
										<div class="form-group">
										<label>Auction Name<span class="danger">*</span></label>
										<input id='editAuctionName' type="text" name="auctionName" placeholder="E.g Chanel Galore" value="${data.strAuctionName}" class="form-control input-lg"/>
										</div>
									</div>
									<div class="col-md-6 startingTimeColumn">
										<div class="form-group">
										<label>Starting Time<span class="danger">*</span></label>
										<input id="editStartingTime" type="text" name="startingTime" placeholder="Date Dropper" value="${jsonAttribute.startingTime}" class="form-control input-lg startingTime"/>
										</div>
									</div>
									</div>
									<div class="row">
									<div class="col-md-12">
										<div class="form-group">
										<label>Auction Description</label>
										<textarea id='editAuctionDescription' rows="3" name="auctionDescription" placeholder='E.g Chanel Designer Bags, Chanel Night Gowns, etc.' class="form-control input-lg">${data.strDescription}</textarea>
										</div>
									</div>
									</div>
									<div class="row">
									<div class="col-md-12">
										<div id='bannerDiv' class="form-group">
										<label>Auction Banner</label>
										</div>
									</div>
									</div>
								<div class="row dayRow">
									<div class="col-md-12">
									<div class="form-group">
										<label>Day Duration:</label>
										<div id="editDayDuration" class="ui-slider-info"></div>
										<input class="dayInput" id="editDayInput" type="hidden" name="days" value="${jsonAttribute.days}"/>
									</div>
									</div>
								</div>
								<div class="row durationRow">
									<div class="col-md-6">
									<div class="form-group">
										<label>Hour Duration:</label>
										<div class="text-center">
										<input id="editHourDuration" type="text" value='${jsonAttribute.hours}' name="hours" data-skin="tron" data-thickness=".2" data-displayprevious="true" data-fgcolor="#666EE8" class="hourDuration knob overload-draw"/>
										</div>
									</div>
									</div>
									<div class="col-md-6">
									<div class="form-group">
										<label>Minute Duration:</label>
										<div class="text-center">
										<input id="editMinuteDuration" type="text" value="${jsonAttribute.minutes}" name="minutes" data-skin="tron" data-thickness=".2" data-displayprevious="true" data-fgcolor="#666EE8" class="minuteDuration knob overload-draw"/>
										</div>
									</div>
									</div>
								</div>
								</fieldset>
								<div class="table-responsive">
								</div>
								<div class="card-footer">
									<button id="editSubmit" style='float:right;margin:5px' class="btn btn-outline-info" auctionDateStart='${data.datDateStart}' auctionId='${data.intAuctionID}'>
									<i class="ft-user"></i>Edit Auction Details
									</button>
									<button id="publishButton" style='float:right;margin:5px' class="btn btn-outline-warning" auctionId='${data.intAuctionID}' auctionDateStart='${data.datDateStart}'>
									<i class="ft-user"></i>Publish Auction
									</button>
									<button id="cancelButton" style='float:right;margin:5px;display:none;' class="btn btn-outline-danger" auctionId='${data.intAuctionID}'>
									<i class="ft-user"></i>Cancel Auction
									</button>
								</div>
								<input id='editBannerToggle' type='hidden' value='0'/>
						</fieldset>
						</form>
					`)
					if(data.booAuctionStatus == 3 || data.booAuctionStatus == 5 || data.booAuctionStatus == 2){
						$('#editCatalog').fadeOut(1000);
						$('#editSubmit').fadeOut(1000);
						$('#publishButton').fadeOut(1000);
						if(data.booAuctionStatus == 5){
							$('#cancelButton').fadeIn(1000);
						}
					}
					if(data.datDateStart == null){
						$('#publishButton').fadeOut(1000);
					}
					if(data.booAuctionType == 1){
						$('.dayInput').attr('disabled', true);
						$('.hourDuration').attr('disabled', true);
						$('.minuteDuration').attr('disabled', true);
						$('.startingTime').attr('disabled', true);
						$('.dayRow').fadeOut(1000)
						$('.durationRow').fadeOut(1000)
						$('.startingTimeColumn').fadeOut(1000)
						$('#fieldAuctionType').append(`
						<input type="radio" name="editAuctionType" value="2" class="checkie editAuctionType"/><span>
							<label> Online</label></span>
						<input type='hidden' id='editAuctionType' value='1'/>
						`)
					}
					else{
						$('#fieldAuctionType').append(`
						<input type="radio" name="editAuctionType" value="2" class="checkie editAuctionType" checked=''/><span>
							<label> Online</label></span>
						<input type='hidden' id='editAuctionType' value='2'/>
						`)
					}
					if(data.strBanner != ''){
						$('#bannerDiv').append(`<input id='editBanner' type="file" name="auctionBanner" data-default-file="/assets/uploads/${data.strBanner}" accept="image/*" data-height="300" data-allowed-file-extensions="jpeg jpg png" data-min-height='351' class="dropify" data-allowed-formats="landscape"/>`)
					}
					else{
						$('#bannerDiv').append(`<input id='editBanner' type="file" name="auctionBanner" accept="image/*" data-height="300" data-allowed-file-extensions="jpeg jpg png" data-min-height='351' class="dropify" data-allowed-formats="landscape"/>`)
					}
					$('#auctionDetails').modal('show');
					importModules(jsonAttribute.days,data.intAuctionID);
				});
			}
		
	// FORM VALIDATION
	script.
		$(document).ready(function (){
			$('#createForm').formValidation({
				framework: 'bootstrap',
				icon: {
					valid: 'fa fa-check',
					invalid: 'fa fa-times',
					validating: 'fa fa-spinner'
				},
				fields: {
					auctionName: {
						validators: {
							notEmpty: {
								message: 'Enter an auction name'
							}
						}
					}
				}
			})
		})